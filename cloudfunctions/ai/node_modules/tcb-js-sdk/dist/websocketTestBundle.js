!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("tcb",[],t):"object"==typeof exports?exports.tcb=t():e.tcb=t()}(window,function(){return function(e){var t=window.webpackHotUpdatetcb;window.webpackHotUpdatetcb=function(e,r){!function(e,t){if(!E[e]||!v[e])return;for(var r in v[e]=!1,t)Object.prototype.hasOwnProperty.call(t,r)&&(d[r]=t[r]);0==--g&&0===b&&T()}(e,r),t&&t(e,r)};var r,n=!0,i="204906516298560a5533",o=1e4,s={},a=[],u=[];function c(e){var t=A[e];if(!t)return B;var n=function(n){return t.hot.active?(A[n]?-1===A[n].parents.indexOf(e)&&A[n].parents.push(e):(a=[e],r=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),a=[]),B(n)},i=function(e){return{configurable:!0,enumerable:!0,get:function(){return B[e]},set:function(t){B[e]=t}}};for(var o in B)Object.prototype.hasOwnProperty.call(B,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(n,o,i(o));return n.e=function(e){return"ready"===p&&h("prepare"),b++,B.e(e).then(t,function(e){throw t(),e});function t(){b--,"prepare"===p&&(m[e]||S(e),0===b&&0===g&&T())}},n.t=function(e,t){return 1&t&&(e=n(e)),B.t(e,-2&t)},n}function f(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:r!==e,active:!0,accept:function(e,r){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._acceptedDependencies[e[n]]=r||function(){};else t._acceptedDependencies[e]=r||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._declinedDependencies[e[r]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var r=t._disposeHandlers.indexOf(e);r>=0&&t._disposeHandlers.splice(r,1)},check:O,apply:N,status:function(e){if(!e)return p;l.push(e)},addStatusHandler:function(e){l.push(e)},removeStatusHandler:function(e){var t=l.indexOf(e);t>=0&&l.splice(t,1)},data:s[e]};return r=void 0,t}var l=[],p="idle";function h(e){p=e;for(var t=0;t<l.length;t++)l[t].call(null,e)}var _,d,y,g=0,b=0,m={},v={},E={};function w(e){return+e+""===e?+e:e}function O(e){if("idle"!==p)throw new Error("check() is only allowed in idle status");return n=e,h("check"),(t=o,t=t||1e4,new Promise(function(e,r){if("undefined"==typeof XMLHttpRequest)return r(new Error("No browser support"));try{var n=new XMLHttpRequest,o=B.p+""+i+".hot-update.json";n.open("GET",o,!0),n.timeout=t,n.send(null)}catch(e){return r(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)r(new Error("Manifest request to "+o+" timed out."));else if(404===n.status)e();else if(200!==n.status&&304!==n.status)r(new Error("Manifest request to "+o+" failed."));else{try{var t=JSON.parse(n.responseText)}catch(e){return void r(e)}e(t)}}})).then(function(e){if(!e)return h("idle"),null;v={},m={},E=e.c,y=e.h,h("prepare");var t=new Promise(function(e,t){_={resolve:e,reject:t}});d={};return S(0),"prepare"===p&&0===b&&0===g&&T(),t});var t}function S(e){E[e]?(v[e]=!0,g++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=B.p+""+e+"."+i+".hot-update.js",document.head.appendChild(t)}(e)):m[e]=!0}function T(){h("ready");var e=_;if(_=null,e)if(n)Promise.resolve().then(function(){return N(n)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var r in d)Object.prototype.hasOwnProperty.call(d,r)&&t.push(w(r));e.resolve(t)}}function N(t){if("ready"!==p)throw new Error("apply() is only allowed in ready status");var r,n,o,u,c;function f(e){for(var t=[e],r={},n=t.slice().map(function(e){return{chain:[e],id:e}});n.length>0;){var i=n.pop(),o=i.id,s=i.chain;if((u=A[o])&&!u.hot._selfAccepted){if(u.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:o};if(u.hot._main)return{type:"unaccepted",chain:s,moduleId:o};for(var a=0;a<u.parents.length;a++){var c=u.parents[a],f=A[c];if(f){if(f.hot._declinedDependencies[o])return{type:"declined",chain:s.concat([c]),moduleId:o,parentId:c};-1===t.indexOf(c)&&(f.hot._acceptedDependencies[o]?(r[c]||(r[c]=[]),l(r[c],[o])):(delete r[c],t.push(c),n.push({chain:s.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:r}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];-1===e.indexOf(n)&&e.push(n)}}t=t||{};var _={},g=[],b={},m=function(){console.warn("[HMR] unexpected require("+O.moduleId+") to disposed module")};for(var v in d)if(Object.prototype.hasOwnProperty.call(d,v)){var O;c=w(v);var S=!1,T=!1,N=!1,I="";switch((O=d[v]?f(c):{type:"disposed",moduleId:v}).chain&&(I="\nUpdate propagation: "+O.chain.join(" -> ")),O.type){case"self-declined":t.onDeclined&&t.onDeclined(O),t.ignoreDeclined||(S=new Error("Aborted because of self decline: "+O.moduleId+I));break;case"declined":t.onDeclined&&t.onDeclined(O),t.ignoreDeclined||(S=new Error("Aborted because of declined dependency: "+O.moduleId+" in "+O.parentId+I));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(O),t.ignoreUnaccepted||(S=new Error("Aborted because "+c+" is not accepted"+I));break;case"accepted":t.onAccepted&&t.onAccepted(O),T=!0;break;case"disposed":t.onDisposed&&t.onDisposed(O),N=!0;break;default:throw new Error("Unexception type "+O.type)}if(S)return h("abort"),Promise.reject(S);if(T)for(c in b[c]=d[c],l(g,O.outdatedModules),O.outdatedDependencies)Object.prototype.hasOwnProperty.call(O.outdatedDependencies,c)&&(_[c]||(_[c]=[]),l(_[c],O.outdatedDependencies[c]));N&&(l(g,[O.moduleId]),b[c]=m)}var D,R=[];for(n=0;n<g.length;n++)c=g[n],A[c]&&A[c].hot._selfAccepted&&R.push({module:c,errorHandler:A[c].hot._selfAccepted});h("dispose"),Object.keys(E).forEach(function(e){!1===E[e]&&function(e){delete installedChunks[e]}(e)});for(var P,M,x=g.slice();x.length>0;)if(c=x.pop(),u=A[c]){var C={},L=u.hot._disposeHandlers;for(o=0;o<L.length;o++)(r=L[o])(C);for(s[c]=C,u.hot.active=!1,delete A[c],delete _[c],o=0;o<u.children.length;o++){var j=A[u.children[o]];j&&((D=j.parents.indexOf(c))>=0&&j.parents.splice(D,1))}}for(c in _)if(Object.prototype.hasOwnProperty.call(_,c)&&(u=A[c]))for(M=_[c],o=0;o<M.length;o++)P=M[o],(D=u.children.indexOf(P))>=0&&u.children.splice(D,1);for(c in h("apply"),i=y,b)Object.prototype.hasOwnProperty.call(b,c)&&(e[c]=b[c]);var U=null;for(c in _)if(Object.prototype.hasOwnProperty.call(_,c)&&(u=A[c])){M=_[c];var k=[];for(n=0;n<M.length;n++)if(P=M[n],r=u.hot._acceptedDependencies[P]){if(-1!==k.indexOf(r))continue;k.push(r)}for(n=0;n<k.length;n++){r=k[n];try{r(M)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:c,dependencyId:M[n],error:e}),t.ignoreErrored||U||(U=e)}}}for(n=0;n<R.length;n++){var $=R[n];c=$.module,a=[c];try{B(c)}catch(e){if("function"==typeof $.errorHandler)try{$.errorHandler(e)}catch(r){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:c,error:r,originalError:e}),t.ignoreErrored||U||(U=r),U||(U=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:c,error:e}),t.ignoreErrored||U||(U=e)}}return U?(h("fail"),Promise.reject(U)):(h("idle"),new Promise(function(e){e(g)}))}var A={};function B(t){if(A[t])return A[t].exports;var r=A[t]={i:t,l:!1,exports:{},hot:f(t),parents:(u=a,a=[],u),children:[]};return e[t].call(r.exports,r,r.exports,c(t)),r.l=!0,r.exports}return B.m=e,B.c=A,B.d=function(e,t,r){B.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},B.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},B.t=function(e,t){if(1&t&&(e=B(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(B.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)B.d(r,n,function(t){return e[t]}.bind(null,n));return r},B.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return B.d(t,"a",t),t},B.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},B.p="",B.h=function(){return i},c(73)(B.s=73)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(26);!function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(26)),t.SYMBOL_UNSET_FIELD_NAME=n.default.for("UNSET_FIELD_NAME"),t.SYMBOL_UPDATE_COMMAND=n.default.for("UPDATE_COMMAND"),t.SYMBOL_QUERY_COMMAND=n.default.for("QUERY_COMMAND"),t.SYMBOL_LOGIC_COMMAND=n.default.for("LOGIC_COMMAND"),t.SYMBOL_GEO_POINT=n.default.for("GEO_POINT"),t.SYMBOL_GEO_LINE_STRING=n.default.for("SYMBOL_GEO_LINE_STRING"),t.SYMBOL_GEO_POLYGON=n.default.for("SYMBOL_GEO_POLYGON"),t.SYMBOL_GEO_MULTI_POINT=n.default.for("SYMBOL_GEO_MULTI_POINT"),t.SYMBOL_GEO_MULTI_LINE_STRING=n.default.for("SYMBOL_GEO_MULTI_LINE_STRING"),t.SYMBOL_GEO_MULTI_POLYGON=n.default.for("SYMBOL_GEO_MULTI_POLYGON"),t.SYMBOL_SERVER_DATE=n.default.for("SERVER_DATE"),t.SYMBOL_REGEXP=n.default.for("REGEXP")},function(e,t,r){"use strict";var n=r(33),i=r(77),o=Object.prototype.toString;function s(e){return"[object Array]"===o.call(e)}function a(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===o.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:i,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,i=arguments.length;n<i;n++)c(arguments[n],r);return t},deepMerge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]="object"==typeof r?e({},r):r}for(var n=0,i=arguments.length;n<i;n++)c(arguments[n],r);return t},extend:function(e,t,r){return c(t,function(t,i){e[i]=r&&"function"==typeof t?n(t,r):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(26);t.getType=(e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase()),t.isObject=(e=>"object"===t.getType(e)),t.isString=(e=>"string"===t.getType(e)),t.isNumber=(e=>"number"===t.getType(e)),t.isPromise=(e=>"promise"===t.getType(e)),t.isFunction=(e=>"function"==typeof e),t.isArray=(e=>Array.isArray(e)),t.isDate=(e=>"date"===t.getType(e)),t.isRegExp=(e=>"regexp"===t.getType(e)),t.isInternalObject=(e=>e&&e._internalType instanceof n.InternalSymbol),t.isPlainObject=(e=>{if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t})},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(163),i=r(164),o=r(165);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=p(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|_(t,r),i=(e=a(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|h(t.length);return 0===(e=a(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?a(e,0):p(e,t);if("Buffer"===t.type&&o(t.data))return p(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(f(t),e=a(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|h(t.length);e=a(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function _(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(e).length;default:if(n)return $(e).length;t=(""+t).toLowerCase(),n=!0}}function d(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):g(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,r,n,i){var o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var f=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*s}else-1!==f&&(o-=o-f),f=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var l=!0,p=0;p<u;p++)if(c(e,o+p)!==c(t,p)){l=!1;break}if(l)return o}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function m(e,t,r,n){return F($(t,e.length-r),e,r,n)}function v(e,t,r,n){return F(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function E(e,t,r,n){return v(e,t,r,n)}function w(e,t,r,n){return F(z(t),e,r,n)}function O(e,t,r,n){return F(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function S(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function T(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,u,c=e[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=r)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=l}return function(e){var t=e.length;if(t<=N)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=N));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return f(t),t<=0?a(e,t):void 0!==r?"string"==typeof n?a(e,t).fill(r,n):a(e,t).fill(r):a(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return l(null,e)},u.allocUnsafeSlow=function(e){return l(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var s=e[r];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},u.byteLength=_,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)d(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)d(this,t,t+3),d(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)d(this,t,t+7),d(this,t+1,t+6),d(this,t+2,t+5),d(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,r);case"utf8":case"utf-8":return T(this,t,r);case"ascii":return A(this,t,r);case"latin1":case"binary":return B(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(n,i),f=e.slice(t,r),l=0;l<a;++l)if(c[l]!==f[l]){o=c[l],s=f[l];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return m(this,e,t,r);case"ascii":return v(this,e,t,r);case"latin1":case"binary":return E(this,e,t,r);case"base64":return w(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;function A(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function B(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function I(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=k(e[o]);return i}function D(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function R(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function M(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function x(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function C(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,o){return o||C(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function j(e,t,r,n,o){return o||C(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||P(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||P(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):x(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);P(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);P(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):x(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return j(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return j(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=u.isBuffer(e)?e:$(new u(e,n).toString()),a=s.length;for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function k(e){return e<16?"0"+e.toString(16):e.toString(16)}function $(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function z(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function F(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(30))},function(e,t,r){var n=r(29),i=r(110),o=r(111),s="[object Null]",a="[object Undefined]",u=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?a:s:u&&u in Object(e)?i(e):o(e)}},function(e,t,r){var n=r(53),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,r){var n=r(109),i=r(114);e.exports=function(e,t){var r=i(e,t);return n(r)?r:void 0}},function(e,t){e.exports=n;var r=null;try{r=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function n(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function i(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=i;var o={},s={};function a(e,t){var r,n,i;return t?(i=0<=(e>>>=0)&&e<256)&&(n=s[e])?n:(r=c(e,(0|e)<0?-1:0,!0),i&&(s[e]=r),r):(i=-128<=(e|=0)&&e<128)&&(n=o[e])?n:(r=c(e,e<0?-1:0,!1),i&&(o[e]=r),r)}function u(e,t){if(isNaN(e))return t?b:g;if(t){if(e<0)return b;if(e>=_)return O}else{if(e<=-d)return S;if(e+1>=d)return w}return e<0?u(-e,t).neg():c(e%h|0,e/h|0,t)}function c(e,t,r){return new n(e,t,r)}n.fromInt=a,n.fromNumber=u,n.fromBits=c;var f=Math.pow;function l(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return l(e.substring(1),t,r).neg();for(var i=u(f(r,8)),o=g,s=0;s<e.length;s+=8){var a=Math.min(8,e.length-s),c=parseInt(e.substring(s,s+a),r);if(a<8){var p=u(f(r,a));o=o.mul(p).add(u(c))}else o=(o=o.mul(i)).add(u(c))}return o.unsigned=t,o}function p(e,t){return"number"==typeof e?u(e,t):"string"==typeof e?l(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=l,n.fromValue=p;var h=4294967296,_=h*h,d=_/2,y=a(1<<24),g=a(0);n.ZERO=g;var b=a(0,!0);n.UZERO=b;var m=a(1);n.ONE=m;var v=a(1,!0);n.UONE=v;var E=a(-1);n.NEG_ONE=E;var w=c(-1,2147483647,!1);n.MAX_VALUE=w;var O=c(-1,-1,!0);n.MAX_UNSIGNED_VALUE=O;var S=c(0,-2147483648,!1);n.MIN_VALUE=S;var T=n.prototype;T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},T.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=u(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=u(f(e,6),this.unsigned),o=this,s="";;){var a=o.div(i),c=(o.sub(a.mul(i)).toInt()>>>0).toString(e);if((o=a).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},T.isZero=function(){return 0===this.high&&0===this.low},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return 1==(1&this.low)},T.isEven=function(){return 0==(1&this.low)},T.equals=function(e){return i(e)||(e=p(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},T.eq=T.equals,T.notEquals=function(e){return!this.eq(e)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(e){return this.comp(e)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(e){return this.comp(e)<=0},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(e){return this.comp(e)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(e){return this.comp(e)>=0},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(e){if(i(e)||(e=p(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(m)},T.neg=T.negate,T.add=function(e){i(e)||(e=p(e));var t=this.high>>>16,r=65535&this.high,n=this.low>>>16,o=65535&this.low,s=e.high>>>16,a=65535&e.high,u=e.low>>>16,f=0,l=0,h=0,_=0;return h+=(_+=o+(65535&e.low))>>>16,l+=(h+=n+u)>>>16,f+=(l+=r+a)>>>16,f+=t+s,c((h&=65535)<<16|(_&=65535),(f&=65535)<<16|(l&=65535),this.unsigned)},T.subtract=function(e){return i(e)||(e=p(e)),this.add(e.neg())},T.sub=T.subtract,T.multiply=function(e){if(this.isZero())return g;if(i(e)||(e=p(e)),r)return c(r.mul(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(S))return e.isOdd()?S:g;if(e.eq(S))return this.isOdd()?S:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(y)&&e.lt(y))return u(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,n=65535&this.high,o=this.low>>>16,s=65535&this.low,a=e.high>>>16,f=65535&e.high,l=e.low>>>16,h=65535&e.low,_=0,d=0,b=0,m=0;return b+=(m+=s*h)>>>16,d+=(b+=o*h)>>>16,b&=65535,d+=(b+=s*l)>>>16,_+=(d+=n*h)>>>16,d&=65535,_+=(d+=o*l)>>>16,d&=65535,_+=(d+=s*f)>>>16,_+=t*h+n*l+o*f+s*a,c((b&=65535)<<16|(m&=65535),(_&=65535)<<16|(d&=65535),this.unsigned)},T.mul=T.multiply,T.divide=function(e){if(i(e)||(e=p(e)),e.isZero())throw Error("division by zero");var t,n,o;if(r)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?r.div_u:r.div_s)(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?b:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return b;if(e.gt(this.shru(1)))return v;o=b}else{if(this.eq(S))return e.eq(m)||e.eq(E)?S:e.eq(S)?m:(t=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?m:E:(n=this.sub(e.mul(t)),o=t.add(n.div(e)));if(e.eq(S))return this.unsigned?b:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=g}for(n=this;n.gte(e);){t=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(t)/Math.LN2),a=s<=48?1:f(2,s-48),l=u(t),h=l.mul(e);h.isNegative()||h.gt(n);)h=(l=u(t-=a,this.unsigned)).mul(e);l.isZero()&&(l=m),o=o.add(l),n=n.sub(h)}return o},T.div=T.divide,T.modulo=function(e){return i(e)||(e=p(e)),r?c((this.unsigned?r.rem_u:r.rem_s)(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return c(~this.low,~this.high,this.unsigned)},T.and=function(e){return i(e)||(e=p(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},T.or=function(e){return i(e)||(e=p(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},T.xor=function(e){return i(e)||(e=p(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},T.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(e){if(i(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},T.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},T.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(32),i=r(20),o=r(21),s=r(12),a=r(22),u=5,c=function(){function e(e){this.config=e,this.cache=new o.Cache(e.persistence),this.accessTokenKey=i.ACCESS_TOKEN+"_"+e.env,this.accessTokenExpireKey=i.ACCESS_TOKEN_Expire+"_"+e.env,this.refreshTokenKey=i.REFRESH_TOKEN+"_"+e.env}return e.prototype.send=function(e,t,r){var o=this,c=Object.assign({},t);if((r=r||0)>u)throw a.activateEvent("LoginStateExpire"),new Error("LoginStateExpire");r++;var f=this.cache.getStore(this.accessTokenKey),l=this.cache.getStore(this.accessTokenExpireKey);if(l&&l<Date.now())this.cache.removeStore(this.accessTokenKey),this.cache.removeStore(this.accessTokenExpireKey),f=null;else if(f&&l>Date.now&&"auth.getJwt"==e)return Promise.resolve({access_token:f});var p,h=this.cache.getStore(this.refreshTokenKey);h||(p=s.getWeixinCode());var _=setTimeout(function(){console.warn("Database operation is longer than 3s. Please check query performance and your network environment.")},3e3),d=Promise.resolve(null);h||"auth.getJwt"===e||"auth.logout"===e||(d=this.waitToken());try{return d.then(function(){var s,l=t.onUploadProgress||void 0,_="application/x-www-form-urlencoded",d=Object.assign({},t,{action:e,env:o.config.env,code:p,dataVersion:"2019-05-30"});if(f?d.access_token=o.cache.getStore(o.accessTokenKey):h&&(d.refresh_token=o.cache.getStore(o.refreshTokenKey),d.action="auth.getJwt"),"storage.uploadFile"===e){for(var y in s=new FormData,d)d.hasOwnProperty(y)&&void 0!==d[y]&&"onUploadProgress"!==y&&s.append(y,d[y]);_="multipart/form-data"}else _="application/json;charset=UTF-8",s=d;var g={headers:{"content-type":_},onUploadProgress:l},b=o,m=i.BASE_URL;return n.default.post(m,s,g).then(function(t){if(200===Number(t.status)){if(r>u)throw a.activateEvent("LoginStateExpire"),console.error("[tcb-js-sdk] \b登录态请求循环尝试次数超限"),new Error("LoginStateExpire");if(t.data){if("SIGN_PARAM_INVALID"!==t.data.code&&"REFRESH_TOKEN_EXPIRED"!==t.data.code)return"CHECK_LOGIN_FAILED"===t.data.code?(b.cache.removeStore(b.accessTokenKey),b.cache.removeStore(b.accessTokenExpireKey),b.send(e,c,++r)):"auth.getJwt"===e?t.data:t.data.access_token||t.data.refresh_token?(t.data.access_token&&(b.cache.setStore(b.accessTokenKey,t.data.access_token),b.cache.setStore(b.accessTokenExpireKey,t.data.access_token_expire+Date.now())),t.data.refresh_token&&b.cache.setStore(b.refreshTokenKey,t.data.refresh_token),b.send(e,c,++r)):t.data;a.activateEvent("LoginStateExpire"),b.cache.removeStore(b.refreshTokenKey)}return t.data}throw new Error("network request error")}).catch(function(e){return e})})}finally{clearTimeout(_)}},e.prototype.waitToken=function(){var e=this,t=this,r=0;return new Promise(function(n,i){var o=setInterval(function(){t.cache.getStore(e.refreshTokenKey)&&(clearInterval(o),n()),(r+=10)>5e3&&i(new Error("request timed out"))},10)})},e}();t.Request=c},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var u,c=[],f=!1,l=-1;function p(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&h())}function h(){if(!f){var e=a(p);f=!0;for(var t=c.length;t;){for(u=c,c=[];++l<t;)u&&u[l].run();l=-1,t=c.length}u=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function _(e,t){this.fun=e,this.array=t}function d(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new _(e,t)),1!==c.length||f||a(h)},_.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=d,i.addListener=d,i.once=d,i.off=d,i.removeListener=d,i.removeAllListeners=d,i.emit=d,i.prependListener=d,i.prependOnceListener=d,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getQuery=function(e,t){if("undefined"==typeof window)return!1;var r=t||window.location.search,n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=r.substr(r.indexOf("?")+1).match(n);return null!=i?i[2]:""},t.getHash=function(e){var t=window.location.hash.match(new RegExp("[#?&/]"+e+"=([^&#]*)"));return t?t[1]:""},t.removeParam=function(e,t){var r=t.split("?")[0],n=[],i=-1!==t.indexOf("?")?t.split("?")[1]:"";if(""!==i){for(var o=(n=i.split("&")).length-1;o>=0;o-=1)n[o].split("=")[0]===e&&n.splice(o,1);r=r+"?"+n.join("&")}return r},t.createPromiseCallback=function(){var e;if(!Promise){(e=function(){}).promise={};var t=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(e.promise,"then",{get:t}),Object.defineProperty(e.promise,"catch",{get:t}),e}var r=new Promise(function(t,r){e=function(e,n){return e?r(e):t(n)}});return e.promise=r,e},t.getWeixinCode=function(){return t.getQuery("code")||t.getHash("code")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(14),i=r(99),o=r(170),s=r(25),a=r(171);class u{constructor(e){this.config=e,this.Geo=n,this.serverDate=s.ServerDateConstructor,this.command=o.Command,this.RegExp=a.RegExpConstructor}collection(e){if(!e)throw new Error("Collection name is required");return new i.CollectionReference(this,e)}createCollection(e){const t={collectionName:e};return new u.reqClass(this.config).send("database.addCollection",t)}}t.Db=u},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(23)),n(r(27)),n(r(44)),n(r(96)),n(r(97)),n(r(98))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);var i;t.SET="set",t.REMOVE="remove",t.INC="inc",t.MUL="mul",t.PUSH="push",t.POP="pop",t.SHIFT="shift",t.UNSHIFT="unshift",function(e){e.SET="set",e.REMOVE="remove",e.INC="inc",e.MUL="mul",e.PUSH="push",e.POP="pop",e.SHIFT="shift",e.UNSHIFT="unshift"}(i=t.UPDATE_COMMANDS_LITERAL||(t.UPDATE_COMMANDS_LITERAL={}));class o{constructor(e,t,r){this._internalType=n.SYMBOL_UPDATE_COMMAND,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=r||n.SYMBOL_UNSET_FIELD_NAME}_setFieldName(e){return new o(this.operator,this.operands,e)}}function s(e){return e&&e instanceof o&&e._internalType===n.SYMBOL_UPDATE_COMMAND}t.UpdateCommand=o,t.isUpdateCommand=s,t.isKnownUpdateCommand=function(e){return s(e)&&e.operator.toUpperCase()in i},t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(17),i=r(0),o=r(14),s=r(2);var a;t.EQ="eq",t.NEQ="neq",t.GT="gt",t.GTE="gte",t.LT="lt",t.LTE="lte",t.IN="in",t.NIN="nin",function(e){e.EQ="eq",e.NEQ="neq",e.GT="gt",e.GTE="gte",e.LT="lt",e.LTE="lte",e.IN="in",e.NIN="nin",e.GEO_NEAR="geoNear",e.GEO_WITHIN="geoWithin",e.GEO_INTERSECTS="geoIntersects"}(a=t.QUERY_COMMANDS_LITERAL||(t.QUERY_COMMANDS_LITERAL={}));class u extends n.LogicCommand{constructor(e,t,r){super(e,t,r),this.operator=e,this._internalType=i.SYMBOL_QUERY_COMMAND}_setFieldName(e){return new u(this.operator,this.operands,e)}eq(e){const t=new u(a.EQ,[e],this.fieldName);return this.and(t)}neq(e){const t=new u(a.NEQ,[e],this.fieldName);return this.and(t)}gt(e){const t=new u(a.GT,[e],this.fieldName);return this.and(t)}gte(e){const t=new u(a.GTE,[e],this.fieldName);return this.and(t)}lt(e){const t=new u(a.LT,[e],this.fieldName);return this.and(t)}lte(e){const t=new u(a.LTE,[e],this.fieldName);return this.and(t)}in(e){const t=new u(a.IN,e,this.fieldName);return this.and(t)}nin(e){const t=new u(a.NIN,e,this.fieldName);return this.and(t)}geoNear(e){if(!(e.geometry instanceof o.Point))throw new TypeError(`"geometry" must be of type Point. Received type ${typeof e.geometry}`);if(void 0!==e.maxDistance&&!s.isNumber(e.maxDistance))throw new TypeError(`"maxDistance" must be of type Number. Received type ${typeof e.maxDistance}`);if(void 0!==e.minDistance&&!s.isNumber(e.minDistance))throw new TypeError(`"minDistance" must be of type Number. Received type ${typeof e.minDistance}`);const t=new u(a.GEO_NEAR,[e],this.fieldName);return this.and(t)}geoWithin(e){if(!(e.geometry instanceof o.MultiPolygon||e.geometry instanceof o.Polygon))throw new TypeError(`"geometry" must be of type Polygon or MultiPolygon. Received type ${typeof e.geometry}`);const t=new u(a.GEO_WITHIN,[e],this.fieldName);return this.and(t)}geoIntersects(e){if(!(e.geometry instanceof o.Point||e.geometry instanceof o.LineString||e.geometry instanceof o.Polygon||e.geometry instanceof o.MultiPoint||e.geometry instanceof o.MultiLineString||e.geometry instanceof o.MultiPolygon))throw new TypeError(`"geometry" must be of type Point, LineString, Polygon, MultiPoint, MultiLineString or MultiPolygon. Received type ${typeof e.geometry}`);const t=new u(a.GEO_INTERSECTS,[e],this.fieldName);return this.and(t)}}function c(e){return e&&e instanceof u&&e._internalType===i.SYMBOL_QUERY_COMMAND}t.QueryCommand=u,t.isQueryCommand=c,t.isKnownQueryCommand=function(e){return c(e)&&e.operator.toUpperCase()in a},t.isComparisonCommand=function(e){return c(e)},t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(16);var o;t.AND="and",t.OR="or",t.NOT="not",t.NOR="nor",function(e){e.AND="and",e.OR="or",e.NOT="not",e.NOR="nor"}(o=t.LOGIC_COMMANDS_LITERAL||(t.LOGIC_COMMANDS_LITERAL={}));class s{constructor(e,t,r){if(this._internalType=n.SYMBOL_LOGIC_COMMAND,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=r||n.SYMBOL_UNSET_FIELD_NAME,this.fieldName!==n.SYMBOL_UNSET_FIELD_NAME){t=t.slice(),this.operands=t;for(let e=0,r=t.length;e<r;e++){const r=t[e];(a(r)||i.isQueryCommand(r))&&(t[e]=r._setFieldName(this.fieldName))}}}_setFieldName(e){const t=this.operands.map(t=>t instanceof s?t._setFieldName(e):t);return new s(this.operator,t,e)}and(...e){const t=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return t.unshift(this),new s(o.AND,t,this.fieldName)}or(...e){const t=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return t.unshift(this),new s(o.OR,t,this.fieldName)}}function a(e){return e&&e instanceof s&&e._internalType===n.SYMBOL_LOGIC_COMMAND}t.LogicCommand=s,t.isLogicCommand=a,t.isKnownLogicCommand=function(e){return a&&e.operator.toUpperCase()in o},t.default=s},function(e,t,r){var n=r(28),i=r(60);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},function(e,t){var r=Array.isArray;e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACCESS_TOKEN="access_token",t.ACCESS_TOKEN_Expire="access_token_expire",t.REFRESH_TOKEN="refresh_token",t.BASE_URL="//212.129.229.68/web"},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function t(e){this.storageClass="local"===e?localStorage:"none"===e?new n:sessionStorage}return t.prototype.setStore=function(e,t,r){try{if(!this.storageClass)return}catch(e){return}var n,i={};i.version=r||"localCachev1",i.content=t,n=JSON.stringify(i);try{this.storageClass.setItem(e,n)}catch(e){return}},t.prototype.getStore=function(t,r){try{if(e&&e.env&&e.env.tcb_token)return e.env.tcb_token;if(!this.storageClass)return}catch(e){return""}r=r||"localCachev1";var n=this.storageClass.getItem(t);return n&&n.indexOf(r)>=0?JSON.parse(n).content:""},t.prototype.removeStore=function(e){this.storageClass.removeItem(e)},t}();t.Cache=r;var n=function(){function e(){window.tcbObject||(window.tcbObject={})}return e.prototype.setItem=function(e,t){window.tcbObject[e]=t},e.prototype.getItem=function(e){return window.tcbObject[e]},e.prototype.removeItem=function(e){delete window.tcbObject[e]},e.prototype.clear=function(){delete window.tcbObject},e}()}).call(this,r(11))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.addEventListener=function(e,t){n[e]?n[e].push(t):n[e]=[t]},t.activateEvent=function(e,t){if(n[e])for(var r=0,i=n[e];r<i.length;r++)(0,i[r])(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(42),i=r(0),o=r(2);t.Point=class{constructor(e,t){n.Validate.isGeopoint("longitude",e),n.Validate.isGeopoint("latitude",t),this.longitude=e,this.latitude=t}parse(e){return{[e]:{type:"Point",coordinates:[this.longitude,this.latitude]}}}toJSON(){return{type:"Point",coordinates:[this.longitude,this.latitude]}}toReadableString(){return`[${this.longitude},${this.latitude}]`}static validate(e){return"Point"===e.type&&o.isArray(e.coordinates)&&n.Validate.isGeopoint("longitude",e.coordinates[0])&&n.Validate.isGeopoint("latitude",e.coordinates[1])}get _internalType(){return i.SYMBOL_GEO_POINT}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(43),i=r(14),o=r(25);class s{}s.formatResDocumentData=(e=>e.map(e=>s.formatField(e))),s.formatField=(e=>{const t=Object.keys(e);let r={};return Array.isArray(e)&&(r=[]),t.forEach(t=>{const o=e[t];let a;switch(s.whichType(o)){case n.FieldType.GeoPoint:a=new i.Point(o.coordinates[0],o.coordinates[1]);break;case n.FieldType.GeoLineString:a=new i.LineString(o.coordinates.map(e=>new i.Point(e[0],e[1])));break;case n.FieldType.GeoPolygon:a=new i.Polygon(o.coordinates.map(e=>new i.LineString(e.map(([e,t])=>new i.Point(e,t)))));break;case n.FieldType.GeoMultiPoint:a=new i.MultiPoint(o.coordinates.map(e=>new i.Point(e[0],e[1])));break;case n.FieldType.GeoMultiLineString:a=new i.MultiLineString(o.coordinates.map(e=>new i.LineString(e.map(([e,t])=>new i.Point(e,t)))));break;case n.FieldType.GeoMultiPolygon:a=new i.MultiPolygon(o.coordinates.map(e=>new i.Polygon(e.map(e=>new i.LineString(e.map(([e,t])=>new i.Point(e,t)))))));break;case n.FieldType.Timestamp:a=new Date(1e3*o.$timestamp);break;case n.FieldType.Object:case n.FieldType.Array:a=s.formatField(o);break;case n.FieldType.ServerDate:a=new Date(o.$date);break;default:a=o}Array.isArray(r)?r.push(a):r[t]=a}),r}),s.whichType=(e=>{let t=Object.prototype.toString.call(e).slice(8,-1);if(t===n.FieldType.Object){if(e instanceof i.Point)return n.FieldType.GeoPoint;if(e instanceof Date)return n.FieldType.Timestamp;if(e instanceof o.ServerDate)return n.FieldType.ServerDate;e.$timestamp?t=n.FieldType.Timestamp:e.$date?t=n.FieldType.ServerDate:i.Point.validate(e)?t=n.FieldType.GeoPoint:i.LineString.validate(e)?t=n.FieldType.GeoLineString:i.Polygon.validate(e)?t=n.FieldType.GeoPolygon:i.MultiPoint.validate(e)?t=n.FieldType.GeoMultiPoint:i.MultiLineString.validate(e)?t=n.FieldType.GeoMultiLineString:i.MultiPolygon.validate(e)&&(t=n.FieldType.GeoMultiPolygon)}return t}),s.generateDocId=(()=>{let e="ABCDEFabcdef0123456789",t="";for(let r=0;r<24;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}),t.Util=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class i{constructor({offset:e=0}={}){this.offset=e}get _internalType(){return n.SYMBOL_SERVER_DATE}parse(){return{$date:{offset:this.offset}}}}t.ServerDate=i,t.ServerDateConstructor=function(e){return new i(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=[],i={};class o{constructor(e){Object.defineProperties(this,{target:{enumerable:!1,writable:!1,configurable:!1,value:e}})}}class s extends o{constructor(e,t){if(t!==i)throw new TypeError("InternalSymbol cannot be constructed with new operator");super(e)}static for(e){for(let t=0,r=n.length;t<r;t++)if(n[t].target===e)return n[t].instance;const t=new s(e,i);return n.push({target:e,instance:t}),t}}t.InternalSymbol=s,t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(23),o=r(2);t.LineString=class{constructor(e){if(!o.isArray(e))throw new TypeError(`"points" must be of type Point[]. Received type ${typeof e}`);if(e.length<2)throw new Error('"points" must contain 2 points at least');e.forEach(e=>{if(!(e instanceof i.Point))throw new TypeError(`"points" must be of type Point[]. Received type ${typeof e}[]`)}),this.points=e}parse(e){return{[e]:{type:"LineString",coordinates:this.points.map(e=>e.toJSON().coordinates)}}}toJSON(){return{type:"LineString",coordinates:this.points.map(e=>e.toJSON().coordinates)}}static validate(e){if("LineString"!==e.type||!o.isArray(e.coordinates))return!1;for(let t of e.coordinates)if(!o.isNumber(t[0])||!o.isNumber(t[1]))return!1;return!0}static isClosed(e){const t=e.points[0],r=e.points[e.points.length-1];if(t.latitude===r.latitude&&t.longitude===r.longitude)return!0}get _internalType(){return n.SYMBOL_GEO_LINE_STRING}}},function(e,t,r){var n=r(4),i=r(9),o="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",u="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=n(e);return t==s||t==a||t==o||t==u}},function(e,t,r){var n=r(5).Symbol;e.exports=n},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,r){e.exports=r(76)},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(1);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(n.isURLSearchParams(t))o=t.toString();else{var s=[];n.forEach(t,function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))}))}),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";(function(t){var n=r(1),i=r(82),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,u={adapter:(void 0!==t&&"[object process]"===Object.prototype.toString.call(t)?a=r(37):"undefined"!=typeof XMLHttpRequest&&(a=r(37)),a),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],function(e){u.headers[e]={}}),n.forEach(["post","put","patch"],function(e){u.headers[e]=n.merge(o)}),e.exports=u}).call(this,r(11))},function(e,t,r){"use strict";var n=r(1),i=r(83),o=r(34),s=r(85),a=r(86),u=r(38);e.exports=function(e){return new Promise(function(t,c){var f=e.data,l=e.headers;n.isFormData(f)&&delete l["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",_=e.auth.password||"";l.Authorization="Basic "+btoa(h+":"+_)}if(p.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};i(t,c,n),p=null}},p.onabort=function(){p&&(c(u("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){c(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){c(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var d=r(87),y=(e.withCredentials||a(e.url))&&e.xsrfCookieName?d.read(e.xsrfCookieName):void 0;y&&(l[e.xsrfHeaderName]=y)}if("setRequestHeader"in p&&n.forEach(l,function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete l[t]:p.setRequestHeader(t,e)}),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),c(e),p=null)}),void 0===f&&(f=null),p.send(f)})}},function(e,t,r){"use strict";var n=r(84);e.exports=function(e,t,r,i,o){var s=new Error(e);return n(s,t,r,i,o)}},function(e,t,r){"use strict";var n=r(1);e.exports=function(e,t){t=t||{};var r={};return n.forEach(["url","method","params","data"],function(e){void 0!==t[e]&&(r[e]=t[e])}),n.forEach(["headers","auth","proxy"],function(i){n.isObject(t[i])?r[i]=n.deepMerge(e[i],t[i]):void 0!==t[i]?r[i]=t[i]:n.isObject(e[i])?r[i]=n.deepMerge(e[i]):void 0!==e[i]&&(r[i]=e[i])}),n.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])}),r}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),i=r(21),o=r(20),s=r(22),a=function(){function e(e){this.httpRequest=new n.Request(e),this.cache=new i.Cache(e.persistence),this.accessTokenKey=o.ACCESS_TOKEN+"_"+e.env,this.accessTokenExpireKey=o.ACCESS_TOKEN_Expire+"_"+e.env,this.refreshTokenKey=o.REFRESH_TOKEN+"_"+e.env}return e.prototype.getJwt=function(e,t){var r=this;return this.httpRequest.send("auth.getJwt",{appid:e,loginType:t}).then(function(n){return n.access_token&&(r.cache.setStore(r.accessTokenKey,n.access_token),r.cache.setStore(r.accessTokenExpireKey,n.access_token_expire+Date.now())),n.refresh_token&&r.cache.setStore(r.refreshTokenKey,n.refresh_token),"CHECK_LOGIN_FAILED"===n.code?(r.cache.removeStore(r.accessTokenKey),r.cache.removeStore(r.accessTokenExpireKey),r.getJwt(e,t)):"REFRESH_TOKEN_EXPIRED"===n.code?(r.cache.removeStore(r.refreshTokenKey),r.cache.removeStore(r.accessTokenKey),r.cache.removeStore(r.accessTokenExpireKey),s.activateEvent("LoginStateExpire"),n):n})},e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(43),i=r(24);t.Validate=class{static isGeopoint(e,t){if(i.Util.whichType(t)!==n.FieldType.Number)throw new Error("Geo Point must be number type");const r=Math.abs(t);if("latitude"===e&&r>90)throw new Error("latitude should be a number ranges from -90 to 90");if("longitude"===e&&r>180)throw new Error("longitude should be a number ranges from -180 to 180");return!0}static isInteger(e,t){if(!Number.isInteger(t))throw new Error(e+n.ErrorCode.IntergerError);return!0}static isFieldOrder(e){if(-1===n.OrderDirectionList.indexOf(e))throw new Error(n.ErrorCode.DirectionError);return!0}static isFieldPath(e){if(!/^[a-zA-Z0-9-_\.]/.test(e))throw new Error;return!0}static isOperator(e){if(-1===n.WhereFilterOpList.indexOf(e))throw new Error(n.ErrorCode.OpStrError);return!0}static isCollName(e){if(!/^[a-zA-Z0-9]([a-zA-Z0-9-_]){1,32}$/.test(e))throw new Error(n.ErrorCode.CollNameError);return!0}static isDocID(e){if(!/^([a-fA-F0-9]){24}$/.test(e))throw new Error(n.ErrorCode.DocIDError);return!0}}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.DocIDError="文档ID不合法",e.CollNameError="集合名称不合法",e.OpStrError="操作符不合法",e.DirectionError="排序字符不合法",e.IntergerError="must be integer"}(n||(n={})),t.ErrorCode=n;t.FieldType={String:"String",Number:"Number",Object:"Object",Array:"Array",Boolean:"Boolean",Null:"Null",GeoPoint:"GeoPoint",GeoLineString:"GeoLineString",GeoPolygon:"GeoPolygon",GeoMultiPoint:"GeoMultiPoint",GeoMultiLineString:"GeoMultiLineString",GeoMultiPolygon:"GeoMultiPolygon",Timestamp:"Date",Command:"Command",ServerDate:"ServerDate"};t.OrderDirectionList=["desc","asc"];var i;t.WhereFilterOpList=["<","<=","==",">=",">"],function(e){e.lt="<",e.gt=">",e.lte="<=",e.gte=">=",e.eq="=="}(i||(i={})),t.Opeartor=i;const o={[i.eq]:"$eq",[i.lt]:"$lt",[i.lte]:"$lte",[i.gt]:"$gt",[i.gte]:"$gte"};t.OperatorMap=o;t.UpdateOperatorList=["$set","$inc","$mul","$unset","$push","$pop","$unshift","$shift","$currentDate","$each","$position"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(2),o=r(27);t.Polygon=class{constructor(e){if(!i.isArray(e))throw new TypeError(`"lines" must be of type LineString[]. Received type ${typeof e}`);if(0===e.length)throw new Error("Polygon must contain 1 linestring at least");e.forEach(e=>{if(!(e instanceof o.LineString))throw new TypeError(`"lines" must be of type LineString[]. Received type ${typeof e}[]`);if(!o.LineString.isClosed(e))throw new Error(`LineString ${e.points.map(e=>e.toReadableString())} is not a closed cycle`)}),this.lines=e}parse(e){return{[e]:{type:"Polygon",coordinates:this.lines.map(e=>e.points.map(e=>[e.longitude,e.latitude]))}}}toJSON(){return{type:"Polygon",coordinates:this.lines.map(e=>e.points.map(e=>[e.longitude,e.latitude]))}}static validate(e){if("Polygon"!==e.type||!i.isArray(e.coordinates))return!1;for(let t of e.coordinates){if(!this.isCloseLineString(t))return!1;for(let e of t)if(!i.isNumber(e[0])||!i.isNumber(e[1]))return!1}return!0}static isCloseLineString(e){const t=e[0],r=e[e.length-1];return t[0]===r[0]&&t[1]===r[1]}get _internalType(){return n.SYMBOL_GEO_MULTI_POLYGON}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPromiseCallback=(()=>{let e;if(!Promise){(e=(()=>{})).promise={};const t=()=>{throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(e.promise,"then",{get:t}),Object.defineProperty(e.promise,"catch",{get:t}),e}const t=new Promise((t,r)=>{e=((e,n)=>e?r(e):t(n))});return e.promise=t,e})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),i=r(0),o=r(2),s=r(47),a=r(48);class u{constructor(){}static encode(e){return(new u).encodeUpdate(e)}encodeUpdate(e){return n.isUpdateCommand(e)?this.encodeUpdateCommand(e):"object"===o.getType(e)?this.encodeUpdateObject(e):e}encodeUpdateCommand(e){if(e.fieldName===i.SYMBOL_UNSET_FIELD_NAME)throw new Error("Cannot encode a comparison command with unset field name");switch(e.operator){case n.UPDATE_COMMANDS_LITERAL.SET:case n.UPDATE_COMMANDS_LITERAL.REMOVE:case n.UPDATE_COMMANDS_LITERAL.INC:case n.UPDATE_COMMANDS_LITERAL.MUL:return this.encodeFieldUpdateCommand(e);case n.UPDATE_COMMANDS_LITERAL.PUSH:case n.UPDATE_COMMANDS_LITERAL.POP:case n.UPDATE_COMMANDS_LITERAL.SHIFT:case n.UPDATE_COMMANDS_LITERAL.UNSHIFT:return this.encodeArrayUpdateCommand(e);default:return this.encodeFieldUpdateCommand(e)}}encodeFieldUpdateCommand(e){const t=s.operatorToString(e.operator);switch(e.operator){case n.UPDATE_COMMANDS_LITERAL.REMOVE:return{[t]:{[e.fieldName]:""}};case n.UPDATE_COMMANDS_LITERAL.SET:case n.UPDATE_COMMANDS_LITERAL.INC:case n.UPDATE_COMMANDS_LITERAL.MUL:default:return{[t]:{[e.fieldName]:e.operands[0]}}}}encodeArrayUpdateCommand(e){const t=s.operatorToString(e.operator);switch(e.operator){case n.UPDATE_COMMANDS_LITERAL.PUSH:{const r={$each:e.operands.map(a.encodeInternalDataType)};return{[t]:{[e.fieldName]:r}}}case n.UPDATE_COMMANDS_LITERAL.UNSHIFT:{const r={$each:e.operands.map(a.encodeInternalDataType),$position:0};return{[t]:{[e.fieldName]:r}}}case n.UPDATE_COMMANDS_LITERAL.POP:return{[t]:{[e.fieldName]:1}};case n.UPDATE_COMMANDS_LITERAL.SHIFT:return{[t]:{[e.fieldName]:-1}};default:return{[t]:{[e.fieldName]:a.encodeInternalDataType(e.operands)}}}}encodeUpdateObject(e){const t=a.flattenQueryObject(e);for(const e in t){if(/^\$/.test(e))continue;let r=t[e];if(n.isUpdateCommand(r)){t[e]=r._setFieldName(e);const n=this.encodeUpdateCommand(t[e]);a.mergeConditionAfterEncode(t,n,e)}else{t[e]=r=a.encodeInternalDataType(r);const i=new n.UpdateCommand(n.UPDATE_COMMANDS_LITERAL.SET,[r],e),o=this.encodeUpdateCommand(i);a.mergeConditionAfterEncode(t,o,e)}}return t}}t.UpdateSerializer=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(16),i=r(17),o=r(15);t.OperatorMap={};for(const e in n.QUERY_COMMANDS_LITERAL)t.OperatorMap[e]=`$${e.toLowerCase()}`;for(const e in i.LOGIC_COMMANDS_LITERAL)t.OperatorMap[e]=`$${e.toLowerCase()}`;for(const e in o.UPDATE_COMMANDS_LITERAL)t.OperatorMap[e]=`$${e.toLowerCase()}`;t.OperatorMap[n.QUERY_COMMANDS_LITERAL.NEQ]="$ne",t.OperatorMap[o.UPDATE_COMMANDS_LITERAL.REMOVE]="$unset",t.OperatorMap[o.UPDATE_COMMANDS_LITERAL.SHIFT]="$pop",t.OperatorMap[o.UPDATE_COMMANDS_LITERAL.UNSHIFT]="$push",t.operatorToString=function(e){return t.OperatorMap[e]||`$${e.toLowerCase()}`}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),i=r(49);function o(e,t,r,i){const s=Object.assign({},e);for(const a in e){if(/^\$/.test(a))continue;const u=e[a];if(u&&(n.isObject(u)&&!t(u))){if(i.indexOf(u)>-1)throw new Error("Cannot convert circular structure to JSON");const e=o(u,t,[...r,a],[...i,u]);s[a]=e;let n=!1;for(const t in e)/^\$/.test(t)?n=!0:(s[`${a}.${t}`]=e[t],delete s[a][t]);n||delete s[a]}}return s}function s(e){return n.isInternalObject(e)||n.isDate(e)||n.isRegExp(e)}t.flattenQueryObject=function(e){return o(e,s,[],[e])},t.flattenObject=function(e){return o(e,e=>!1,[],[e])},t.mergeConditionAfterEncode=function(e,t,r){t[r]||delete e[r];for(const i in t)e[i]?n.isArray(e[i])?e[i].push(t[i]):n.isObject(e[i])?n.isObject(t[i])?Object.assign(e[i],t[i]):(console.warn(`unmergable condition, query is object but condition is ${n.getType(t)}, can only overwrite`,t,r),e[i]=t[i]):(console.warn(`to-merge query is of type ${n.getType(e)}, can only overwrite`,e,t,r),e[i]=t[i]):e[i]=t[i]},t.isConversionRequired=s,t.encodeInternalDataType=function(e){return i.serialize(e)},t.decodeInternalDataType=function(e){return i.deserialize(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(2),o=r(14),s=r(25);t.serialize=function(e){return function e(t,r){if(!i.isInternalObject(t)){if(i.isDate(t))return{$date:+t};if(i.isRegExp(t))return{$regex:t.source,$options:t.flags};if(i.isArray(t))return t.map(t=>{if(r.indexOf(t)>-1)throw new Error("Cannot convert circular structure to JSON");return e(t,[...r,t])});if(i.isObject(t)){const n=Object.assign({},t);for(const t in n){if(r.indexOf(n[t])>-1)throw new Error("Cannot convert circular structure to JSON");n[t]=e(n[t],[...r,n[t]])}return n}return t}switch(t._internalType){case n.SYMBOL_GEO_POINT:return t.toJSON();case n.SYMBOL_SERVER_DATE:case n.SYMBOL_REGEXP:return t.parse();default:return t.toJSON?t.toJSON():t}}(e,[e])},t.deserialize=function(e){const t=Object.assign({},e);for(const e in t)switch(e){case"$date":switch(i.getType(t[e])){case"number":return new Date(t[e]);case"object":return new s.ServerDate(t[e])}break;case"type":switch(t.type){case"Point":if(i.isArray(t.coordinates)&&i.isNumber(t.coordinates[0])&&i.isNumber(t.coordinates[1]))return new o.Point(t.coordinates[0],t.coordinates[1])}}return e}},function(e,t,r){var n=r(108),i=r(51);e.exports=function(e,t,r,o){var s=!r;r||(r={});for(var a=-1,u=t.length;++a<u;){var c=t[a],f=o?o(r[c],e[c],c,r,e):void 0;void 0===f&&(f=e[c]),s?i(r,c,f):n(r,c,f)}return r}},function(e,t,r){var n=r(52);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},function(e,t,r){var n=r(7),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r(30))},function(e,t){var r=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,r){var n=r(56),i=r(59);e.exports=function(e){return n(function(t,r){var n=-1,o=r.length,s=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(s=e.length>3&&"function"==typeof s?(o--,s):void 0,a&&i(r[0],r[1],a)&&(s=o<3?void 0:s,o=1),t=Object(t);++n<o;){var u=r[n];u&&e(t,u,n,s)}return t})}},function(e,t,r){var n=r(57),i=r(115),o=r(116);e.exports=function(e,t){return o(i(e,t,n),e+"")}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},function(e,t,r){var n=r(31),i=r(18),o=r(61),s=r(9);e.exports=function(e,t,r){if(!s(r))return!1;var a=typeof t;return!!("number"==a?i(r)&&o(t,r.length):"string"==a&&t in r)&&n(r[t],e)}},function(e,t){var r=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}},function(e,t){var r=9007199254740991,n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?r:t)&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,r){var n=r(63),i=r(129),o=r(18);e.exports=function(e){return o(e)?n(e,!0):i(e)}},function(e,t,r){var n=r(120),i=r(121),o=r(19),s=r(123),a=r(61),u=r(125),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=o(e),f=!r&&i(e),l=!r&&!f&&s(e),p=!r&&!f&&!l&&u(e),h=r||f||l||p,_=h?n(e.length,String):[],d=_.length;for(var y in e)!t&&!c.call(e,y)||h&&("length"==y||l&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||a(y,d))||_.push(y);return _}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var r=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},function(e,t,r){var n=r(4),i=r(19),o=r(6),s="[object String]";e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&n(e)==s}},function(e,t,r){var n=r(65),i=r(133),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))o.call(e,r)&&"constructor"!=r&&t.push(r);return t}},function(e,t){e.exports=function(e,t){return function(r){return e(t(r))}}},function(e,t,r){var n=r(4),i=r(6),o=r(148),s="[object DOMException]",a="[object Error]";e.exports=function(e){if(!i(e))return!1;var t=n(e);return t==a||t==s||"string"==typeof e.message&&"string"==typeof e.name&&!o(e)}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},function(e,t){e.exports=/<%=([\s\S]+?)%>/g},function(e,t,r){var n=r(158);e.exports=function(e){return null==e?"":n(e)}},function(e,t,r){const n=r(74),i=r(172),o={secretId:i.secretId,secretKey:i.secretKey,env:"web-test-jimmy-0cf5fa",mpAppId:"wxacfb81f2ced64e70",proxy:i.proxy,sessionToken:void 0};n.init(o),n.auth({persistence:"local"}).weixinAuthProvider({appid:"wxacfb81f2ced64e70",scope:"snsapi_base"}).signIn(function(e,t){});const s=n.database();s.command;s.collection("coll").where({k:2}).watch({success:e=>{console.log("receive events:",e)},fail:()=>{}})},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(75),o=r(92),s=r(94),a=r(10),u=r(95).Db;function c(e){this.config=e||this.config,this.authObj}function f(e,t){return function(e,t){for(var r in e)e.hasOwnProperty(r)&&t(e[r],r)}(t,function(r,n){e[n]=t[n]}),e}c.prototype.init=function(e){return this.config={env:e.env,timeout:e.timeout||15e3},new c(this.config)},c.prototype.database=function(e){if(u.reqClass=a.Request,this.authObj)return u.getAccessToken=this.authObj.getAccessToken.bind(this.authObj),new u(n({},this.config,e));console.warn("需要app.auth()授权")},c.prototype.auth=function(e){var t=(void 0===e?{}:e).persistence;return this.authObj?(console.warn("tcb实例只存在一个auth对象"),this.authObj):(Object.assign(this.config,{persistence:t||"session"}),this.authObj=new o.default(this.config),this.authObj)},f(c.prototype,s),f(c.prototype,i);var l=new c;try{window.tcb=l}catch(e){}t.default=l,e.exports=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),i=r(12),o=r(32);t.uploadFile=function(e,t){var r=e.cloudPath,o=e.filePath,s=e.onUploadProgress;t=t||i.createPromiseCallback();var a={path:r,file:o,onUploadProgress:s};return new n.Request(this.config).send("storage.uploadFile",a).then(function(e){e.code?t(null,e):t(null,{fileID:e.data.fileid,requestId:e.requestId})}).catch(function(e){t(e)}),t.promise},t.deleteFile=function(e,t){var r=e.fileList;if(t=t||i.createPromiseCallback(),!r||!Array.isArray(r))return{code:"INVALID_PARAM",message:"fileList必须是非空的数组"};for(var o=0,s=r;o<s.length;o++){var a=s[o];if(!a||"string"!=typeof a)return{code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"}}var u={fileid_list:r};return new n.Request(this.config).send("storage.batchDeleteFile",u).then(function(e){e.code?t(null,e):t(null,{fileList:e.data.delete_list,requestId:e.requestId})}).catch(function(e){t(e)}),t.promise},t.getTempFileURL=function(e,t){var r=e.fileList;t=t||i.createPromiseCallback(),r&&Array.isArray(r)||t(null,{code:"INVALID_PARAM",message:"fileList必须是非空的数组"});for(var o=[],s=0,a=r;s<a.length;s++){var u=a[s];"object"==typeof u?(u.hasOwnProperty("fileID")&&u.hasOwnProperty("maxAge")||t(null,{code:"INVALID_PARAM",message:"fileList的元素必须是包含fileID和maxAge的对象"}),o.push({fileid:u.fileID,max_age:u.maxAge})):"string"==typeof u?o.push({fileid:u}):t(null,{code:"INVALID_PARAM",message:"fileList的元素必须是字符串"})}var c={file_list:o};return new n.Request(this.config).send("storage.batchGetDownloadUrl",c).then(function(e){e.code?t(null,e):t(null,{fileList:e.data.download_list,requestId:e.requestId})}).catch(function(e){t(e)}),t.promise},t.downloadFile=function(e,r){var n=e.fileID;return r=r||i.createPromiseCallback(),t.getTempFileURL.call(this,{fileList:[{fileID:n,maxAge:600}]}).then(function(e){var t=e.fileList[0];if("SUCCESS"===t.code){var n=t.download_url;n=encodeURI(n),o.default.get(n,{responseType:"blob"}).then(function(e){var t=window.URL.createObjectURL(new Blob([e.data])),r=document.createElement("a");r.href=t,r.setAttribute("download","file.pdf"),document.body.appendChild(r),r.click()})}else r(t)}),r.promise}},function(e,t,r){"use strict";var n=r(1),i=r(33),o=r(78),s=r(39);function a(e){var t=new o(e),r=i(o.prototype.request,t);return n.extend(r,o.prototype,t),n.extend(r,t),r}var u=a(r(36));u.Axios=o,u.create=function(e){return a(s(u.defaults,e))},u.Cancel=r(40),u.CancelToken=r(90),u.isCancel=r(35),u.all=function(e){return Promise.all(e)},u.spread=r(91),e.exports=u,e.exports.default=u},function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,r){"use strict";var n=r(1),i=r(34),o=r(79),s=r(80),a=r(39);function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[s,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},u.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],function(e){u.prototype[e]=function(t,r){return this.request(n.merge(r||{},{method:e,url:t}))}}),n.forEach(["post","put","patch"],function(e){u.prototype[e]=function(t,r,i){return this.request(n.merge(i||{},{method:e,url:t,data:r}))}}),e.exports=u},function(e,t,r){"use strict";var n=r(1);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=i},function(e,t,r){"use strict";var n=r(1),i=r(81),o=r(35),s=r(36),a=r(88),u=r(89);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!a(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return c(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,r){"use strict";var n=r(1);e.exports=function(e,t,r){return n.forEach(r,function(r){e=r(e,t)}),e}},function(e,t,r){"use strict";var n=r(1);e.exports=function(e,t){n.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}},function(e,t,r){"use strict";var n=r(38);e.exports=function(e,t,r){var i=r.config.validateStatus;!i||i(r.status)?e(r):t(n("Request failed with status code "+r.status,r.config,null,r.request,r))}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,r){"use strict";var n=r(1),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,o,s={};return e?(n.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+", "+r:r}}),s):s}},function(e,t,r){"use strict";var n=r(1);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n=r(1);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(i)&&a.push("path="+i),n.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(40);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new n(e),t(r.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},e.exports=i},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=r(93),a=r(22),u=r(41),c=r(21),f=r(20),l=function(e){function t(t){var r=e.call(this,t)||this;return r.config=t,r}return i(t,e),t.prototype.weixinAuthProvider=function(e){var t=e.appid,r=e.scope,n=e.loginMode,i=e.state;return new s.default(this.config,t,r,n,i)},t.prototype.signOut=function(){var e=new c.Cache(this.config.persistence);e.removeStore(f.REFRESH_TOKEN+"_"+this.config.env),e.removeStore(f.ACCESS_TOKEN+"_"+this.config.env),e.removeStore(f.ACCESS_TOKEN_Expire+"_"+this.config.env);return this.httpRequest.send("auth.logout",{}).then(function(e){return e})},t.prototype.getAccessToken=function(e){var t=this;console.log("this********",this),this.getJwt().then(function(r){"REFRESH_TOKEN_Expired"===r.code&&console.log("REFRESH_TOKEN_Expired"),r.access_token&&e(r.access_token,t.config.env)}).catch(function(e){console.log("err:",e)})},t.prototype.onLoginStateExpire=function(e){a.addEventListener("LoginStateExpire",e)},t.prototype.getUserInfo=function(){return this.httpRequest.send("auth.getUserInfo",{}).then(function(e){return e.code?e:o({},e.data,{requestId:e.seqId})})},t}(u.default);t.default=l},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s,a=r(12),u=r(41);!function(e){e.snsapi_base="snsapi_base",e.snsapi_userinfo="snsapi_userinfo",e.snsapi_login="snsapi_login"}(o||(o={})),function(e){e.redirect="redirect",e.prompt="prompt"}(s||(s={}));var c=function(e){function t(t,r,n,i,o){var s=e.call(this,t)||this;return s.config=t,s.appid=r,s.scope=n,s.state=o||"weixin",s.loginMode=i||"redirect",s}return i(t,e),t.prototype.signIn=function(e){e=e||a.createPromiseCallback();var t=this.cache.getStore(this.accessTokenKey),r=this.cache.getStore(this.accessTokenExpireKey),n=this.cache.getStore(this.refreshTokenKey),i=a.getWeixinCode();if(t){if(r&&r>Date.now())return e(0),e.promise;this.cache.removeStore(this.accessTokenKey),this.cache.removeStore(this.accessTokenExpireKey)}if(n)return this.getJwt(this.appid).then(function(t){e(null,t)}),e.promise;if(i){var s="snsapi_login"===this.scope?"WECHAT-OPEN":"WECHAT-PUBLIC";return this.getJwt(this.appid,s).then(function(t){e(null,t)}),e.promise}if(!1===Object.values(o).includes(o[this.scope]))throw new Error("错误的scope类型");this.redirect()},t.prototype.redirect=function(){var e=a.removeParam("code",location.href);e=a.removeParam("state",e),e=encodeURIComponent(e);var t="//open.weixin.qq.com/connect/oauth2/authorize";"snsapi_login"===this.scope&&(t="//open.weixin.qq.com/connect/qrconnect"),"redirect"===s[this.loginMode]&&(location.href=t+"?appid="+this.appid+"&redirect_uri="+e+"&response_type=code&scope="+this.scope+"&state="+this.state+"#wechat_redirect")},t}(u.default);t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),i=r(12);t.callFunction=function(e,t){var r=e.name,o=e.data;t=t||i.createPromiseCallback();try{o=o?JSON.stringify(o):""}catch(e){return Promise.reject(e)}if(!r)return Promise.reject(new Error("函数名不能为空"));var s={function_name:r,request_data:o};return new n.Request(this.config).send("functions.invokeFunction",s).then(function(e){if(console.log(e),e.code)t(null,e);else{var r=e.data.response_data;try{r=JSON.parse(e.data.response_data),t(null,{result:r,requestId:e.requestId})}catch(e){t(new Error("response data must be json"))}}return t.promise}).catch(function(e){t(e)}),t.promise}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(13))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(23),o=r(2);t.MultiPoint=class{constructor(e){if(!o.isArray(e))throw new TypeError(`"points" must be of type Point[]. Received type ${typeof e}`);if(0===e.length)throw new Error('"points" must contain 1 point at least');e.forEach(e=>{if(!(e instanceof i.Point))throw new TypeError(`"points" must be of type Point[]. Received type ${typeof e}[]`)}),this.points=e}parse(e){return{[e]:{type:"MultiPoint",coordinates:this.points.map(e=>e.toJSON().coordinates)}}}toJSON(){return{type:"MultiPoint",coordinates:this.points.map(e=>e.toJSON().coordinates)}}static validate(e){if("MultiPoint"!==e.type||!o.isArray(e.coordinates))return!1;for(let t of e.coordinates)if(!o.isNumber(t[0])||!o.isNumber(t[1]))return!1;return!0}get _internalType(){return n.SYMBOL_GEO_MULTI_POINT}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(2),o=r(27);t.MultiLineString=class{constructor(e){if(!i.isArray(e))throw new TypeError(`"lines" must be of type LineString[]. Received type ${typeof e}`);if(0===e.length)throw new Error("Polygon must contain 1 linestring at least");e.forEach(e=>{if(!(e instanceof o.LineString))throw new TypeError(`"lines" must be of type LineString[]. Received type ${typeof e}[]`)}),this.lines=e}parse(e){return{[e]:{type:"MultiLineString",coordinates:this.lines.map(e=>e.points.map(e=>[e.longitude,e.latitude]))}}}toJSON(){return{type:"MultiLineString",coordinates:this.lines.map(e=>e.points.map(e=>[e.longitude,e.latitude]))}}static validate(e){if("MultiLineString"!==e.type||!i.isArray(e.coordinates))return!1;for(let t of e.coordinates)for(let e of t)if(!i.isNumber(e[0])||!i.isNumber(e[1]))return!1;return!0}get _internalType(){return n.SYMBOL_GEO_MULTI_LINE_STRING}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(2),o=r(44);t.MultiPolygon=class{constructor(e){if(!i.isArray(e))throw new TypeError(`"polygons" must be of type Polygon[]. Received type ${typeof e}`);if(0===e.length)throw new Error("MultiPolygon must contain 1 polygon at least");for(let t of e)if(!(t instanceof o.Polygon))throw new TypeError(`"polygon" must be of type Polygon[]. Received type ${typeof t}[]`);this.polygons=e}parse(e){return{[e]:{type:"MultiPolygon",coordinates:this.polygons.map(e=>e.lines.map(e=>e.points.map(e=>[e.longitude,e.latitude])))}}}toJSON(){return{type:"MultiPolygon",coordinates:this.polygons.map(e=>e.lines.map(e=>e.points.map(e=>[e.longitude,e.latitude])))}}static validate(e){if("MultiPolygon"!==e.type||!i.isArray(e.coordinates))return!1;for(let t of e.coordinates)for(let e of t)for(let t of e)if(!i.isNumber(t[0])||!i.isNumber(t[1]))return!1;return!0}get _internalType(){return n.SYMBOL_GEO_POLYGON}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(100),i=r(101),o=r(168);t.CollectionReference=class extends i.Query{constructor(e,t){super(e,t)}get name(){return this._coll}doc(e){return new n.DocumentReference(this._db,this._coll,e)}add(e,t){return this.doc().create(e,t)}aggregate(){return new o.default(this._db,this._coll)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(45),i=r(13),o=r(24),s=r(46),a=r(49),u=r(15);class c{constructor(e,t,r,n={}){this._db=e,this._coll=t,this.id=r,this.request=new i.Db.reqClass(this._db.config),this.projection=n}create(e,t){t=t||n.createPromiseCallback();let r={collectionName:this._coll,data:a.serialize(e)};return this.id&&(r._id=this.id),this.request.send("database.addDocument",r).then(e=>{e.code?t(0,e):t(0,{id:e.data._id,requestId:e.requestId})}).catch(e=>{t(e)}),t.promise}set(e,t){if(t=t||n.createPromiseCallback(),!e||"object"!=typeof e)return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});let r=!1;const i=e=>{if("object"==typeof e)for(let t in e)e[t]instanceof u.UpdateCommand?r=!0:"object"==typeof e[t]&&i(e[t])};if(i(e),r)return Promise.resolve({code:"DATABASE_REQUEST_FAILED",message:"update operator complicit"});let o={collectionName:this._coll,data:a.serialize(e),multi:!1,merge:!1,upsert:!0};return this.id&&(o.query={_id:this.id}),this.request.send("database.updateDocument",o).then(e=>{e.code?t(0,e):t(0,{updated:e.data.updated,upsertedId:e.data.upserted_id,requestId:e.requestId})}).catch(e=>{t(e)}),t.promise}update(e,t){if(t=t||n.createPromiseCallback(),!e||"object"!=typeof e)return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});const r={_id:this.id},i={collectionName:this._coll,data:s.UpdateSerializer.encode(e),query:r,multi:!1,merge:!0,upsert:!1};return this.request.send("database.updateDocument",i).then(e=>{e.code?t(0,e):t(0,{updated:e.data.updated,upsertedId:e.data.upserted_id,requestId:e.requestId})}).catch(e=>{t(e)}),t.promise}remove(e){e=e||n.createPromiseCallback();const t={_id:this.id},r={collectionName:this._coll,query:t,multi:!1};return this.request.send("database.deleteDocument",r).then(t=>{t.code?e(0,t):e(0,{deleted:t.data.deleted,requestId:t.requestId})}).catch(t=>{e(t)}),e.promise}get(e){e=e||n.createPromiseCallback();const t={_id:this.id},r={collectionName:this._coll,query:t,multi:!1,projection:this.projection};return this.request.send("database.queryDocument",r).then(t=>{if(t.code)e(0,t);else{const r=o.Util.formatResDocumentData(t.data.list);e(0,{data:r,requestId:t.requestId,total:t.TotalCount,limit:t.Limit,offset:t.Offset})}}).catch(t=>{e(t)}),e.promise}field(e){for(let t in e)e[t]?e[t]=1:e[t]=0;return new c(this._db,this._coll,this.id,e)}}t.DocumentReference=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(45),i=r(13),o=r(42),s=r(24),a=r(102),u=r(46),c=r(103);class f{constructor(e,t,r,n,o,s){this._db=e,this._coll=t,this._fieldFilters=r,this._fieldOrders=n||[],this._queryOptions=o||{},this._pingTimeout=1e4,this._pongTimeout=5e3,this._reconnectTimeout=15e3,this._rawWhereParams=s||{},this._wsURL="ws://localhost:3000",this._request=new i.Db.reqClass(this._db.config),this._getAccessToken=i.Db.getAccessToken}get(e){e=e||n.createPromiseCallback();let t=[];this._fieldOrders&&this._fieldOrders.forEach(e=>{t.push(e)});let r={collectionName:this._coll};return this._fieldFilters&&(r.query=this._fieldFilters),t.length>0&&(r.order=t),this._queryOptions.offset&&(r.offset=this._queryOptions.offset),this._queryOptions.limit?r.limit=this._queryOptions.limit<100?this._queryOptions.limit:100:r.limit=100,this._queryOptions.projection&&(r.projection=this._queryOptions.projection),this._request.send("database.queryDocument",r).then(t=>{if(t.code)e(0,t);else{const r={data:s.Util.formatResDocumentData(t.data.list),requestId:t.requestId};t.TotalCount&&(r.total=t.TotalCount),t.Limit&&(r.limit=t.Limit),t.Offset&&(r.offset=t.Offset),e(0,r)}}).catch(t=>{e(t)}),e.promise}count(e){e=e||n.createPromiseCallback();let t={collectionName:this._coll};return this._fieldFilters&&(t.query=this._fieldFilters),this._request.send("database.countDocument",t).then(t=>{t.code?e(0,t):e(0,{requestId:t.requestId,total:t.data.total})}),e.promise}where(e){return this._rawWhereParams=e,new f(this._db,this._coll,a.QuerySerializer.encode(e),this._fieldOrders,this._queryOptions,this._rawWhereParams)}orderBy(e,t){o.Validate.isFieldPath(e),o.Validate.isFieldOrder(t);const r={field:e,direction:t},n=this._fieldOrders.concat(r);return new f(this._db,this._coll,this._fieldFilters,n,this._queryOptions)}limit(e){o.Validate.isInteger("limit",e);let t=Object.assign({},this._queryOptions);return t.limit=e,new f(this._db,this._coll,this._fieldFilters,this._fieldOrders,t)}skip(e){o.Validate.isInteger("offset",e);let t=Object.assign({},this._queryOptions);return t.offset=e,new f(this._db,this._coll,this._fieldFilters,this._fieldOrders,t)}update(e,t){if(t=t||n.createPromiseCallback(),!e||"object"!=typeof e)return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});let r={collectionName:this._coll,query:this._fieldFilters,multi:!0,merge:!0,upsert:!1,data:u.UpdateSerializer.encode(e)};return this._request.send("database.updateDocument",r).then(e=>{e.code?t(0,e):t(0,{requestId:e.requestId,updated:e.data.updated,upsertId:e.data.upsert_id})}),t.promise}field(e){for(let t in e)e[t]?e[t]=1:e[t]=0;let t=Object.assign({},this._queryOptions);return t.projection=e,new f(this._db,this._coll,this._fieldFilters,this._fieldOrders,t)}remove(e){e=e||n.createPromiseCallback(),Object.keys(this._queryOptions).length>0&&console.warn("`offset`, `limit` and `projection` are not supported in remove() operation"),this._fieldOrders.length>0&&console.warn("`orderBy` is not supported in remove() operation");const t={collectionName:this._coll,query:a.QuerySerializer.encode(this._fieldFilters),multi:!0};return this._request.send("database.deleteDocument",t).then(t=>{t.code?e(0,t):e(0,{requestId:t.requestId,deleted:t.data.deleted})}),e.promise}watch(e){this._getAccessToken(t=>{console.log("access_token******",t);const r=this._coll,n=JSON.stringify(this._rawWhereParams);new c.WSClient({pingTimeout:this._pingTimeout,pongTimeout:this._pongTimeout,reconnectTimeout:this._reconnectTimeout,wsURL:this._wsURL,params:{DBName:"tnt-61yk7lv8e",CollName:r,Query:n,Uin:"xxx",RequestId:"123456",AccessToken:t},callbackObj:e}).createWsCon(!1)})}}t.Query=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(16),i=r(17),o=r(0),s=r(2),a=r(47),u=r(48);t.QuerySerializer=class{constructor(){}static encode(e){return(new c).encodeQuery(e)}};class c{encodeQuery(e,t){return u.isConversionRequired(e)?i.isLogicCommand(e)?this.encodeLogicCommand(e):n.isQueryCommand(e)?this.encodeQueryCommand(e):{[t]:this.encodeQueryObject(e)}:s.isObject(e)?this.encodeQueryObject(e):e}encodeLogicCommand(e){switch(e.operator){case i.LOGIC_COMMANDS_LITERAL.AND:case i.LOGIC_COMMANDS_LITERAL.OR:return{[a.operatorToString(e.operator)]:e.operands.map(t=>this.encodeQuery(t,e.fieldName))};default:{const t=a.operatorToString(e.operator);if(1===e.operands.length){return{[t]:this.encodeQuery(e.operands[0])}}return{[t]:e.operands.map(this.encodeQuery.bind(this))}}}}encodeQueryCommand(e){return n.isComparisonCommand(e),this.encodeComparisonCommand(e)}encodeComparisonCommand(e){if(e.fieldName===o.SYMBOL_UNSET_FIELD_NAME)throw new Error("Cannot encode a comparison command with unset field name");const t=a.operatorToString(e.operator);switch(e.operator){case n.QUERY_COMMANDS_LITERAL.EQ:case n.QUERY_COMMANDS_LITERAL.NEQ:case n.QUERY_COMMANDS_LITERAL.LT:case n.QUERY_COMMANDS_LITERAL.LTE:case n.QUERY_COMMANDS_LITERAL.GT:case n.QUERY_COMMANDS_LITERAL.GTE:return{[e.fieldName]:{[t]:u.encodeInternalDataType(e.operands[0])}};case n.QUERY_COMMANDS_LITERAL.IN:case n.QUERY_COMMANDS_LITERAL.NIN:return{[e.fieldName]:{[t]:u.encodeInternalDataType(e.operands)}};case n.QUERY_COMMANDS_LITERAL.GEO_NEAR:{const t=e.operands[0];return{[e.fieldName]:{$nearSphere:{$geometry:t.geometry.toJSON(),$maxDistance:t.maxDistance,$minDistance:t.minDistance}}}}case n.QUERY_COMMANDS_LITERAL.GEO_WITHIN:{const t=e.operands[0];return{[e.fieldName]:{$geoWithin:{$geometry:t.geometry.toJSON()}}}}case n.QUERY_COMMANDS_LITERAL.GEO_INTERSECTS:{const t=e.operands[0];return{[e.fieldName]:{$geoIntersects:{$geometry:t.geometry.toJSON()}}}}default:return{[e.fieldName]:{[t]:u.encodeInternalDataType(e.operands[0])}}}}encodeQueryObject(e){const t=u.flattenQueryObject(e);for(const e in t){const r=t[e];if(i.isLogicCommand(r)){t[e]=r._setFieldName(e);const n=this.encodeLogicCommand(t[e]);this.mergeConditionAfterEncode(t,n,e)}else if(n.isComparisonCommand(r)){t[e]=r._setFieldName(e);const n=this.encodeComparisonCommand(t[e]);this.mergeConditionAfterEncode(t,n,e)}else u.isConversionRequired(r)&&(t[e]=u.encodeInternalDataType(r))}return t}mergeConditionAfterEncode(e,t,r){t[r]||delete e[r];for(const n in t)e[n]?s.isArray(e[n])?e[n].push(t[n]):s.isObject(e[n])?s.isObject(t[n])?Object.assign(e,t):(console.warn(`unmergable condition, query is object but condition is ${s.getType(t)}, can only overwrite`,t,r),e[n]=t[n]):(console.warn(`to-merge query is of type ${s.getType(e)}, can only overwrite`,e,t,r),e[n]=t[n]):e[n]=t[n]}}},function(e,t,r){const n=r(104),i=r(105),o=r(167).ERRORS,s=new i;t.WSClient=class{constructor({pingTimeout:e,pongTimeout:t,reconnectTimeout:r,wsURL:n,params:i,callbackObj:o}){this.opts={wsURL:n,pingTimeout:e,pongTimeout:t,reconnectTimeout:r},this.ws=null,this.queueMsgCache=s,this.params=i,this.queryID=null,this.reconnectTimes=0,this.callbackObj=o}createWsCon(e){try{this.ws=new n(this.opts.wsURL),this.initEventHandle(e)}catch(e){throw console.log("create error catch*********"),e}}createMsg({msgType:e,msgData:t}){return{msgType:e,msgData:t}}checkWSOpen(){return!(!this.ws||this.ws.readyState!==n.OPEN)}send(e,t,r){if(!this.checkWSOpen())return void this.reconnect();let n;this.ws.send(e,e=>{if(clearTimeout(n),e)throw console.log("socket write err************"),e;t()}),n=setTimeout(()=>{throw new Error(o.CONN_ERROR)},r)}initEventHandle(e){console.log("connect starting...."),this.ws.on("upgrade",e=>{console.log("upgrade res******")}),this.ws.on("open",t=>{this.reconnectTimes=0,this.heart(),console.log("connect open....");let r=null;if(e){let e=this.queueMsgCache.get(this.queryID),{cacheCurrEvent:t}=e;r=this.createMsg({msgType:"reconnectMsg",msgData:{QueryID:this.queryID,EventID:t,Uin:this.params.Uin,RequestId:this.params.RequestId}})}else r=this.createMsg({msgType:"initWatchMsg",msgData:this.params}),console.log("client send initWatchMsg:",r);this.send(JSON.stringify(r),()=>{console.log("send initWatchMsg success")},3e3)}),this.ws.on("message",e=>{this.heart();let t=JSON.parse(e);if("initEventMsg"===t.msgType){let{msgData:e}=t,{queryID:r,currEvent:n,events:i}=e;console.log(`收到eventMsgType:${t.msgType}--对应event数据:`,e),null===this.queryID&&(this.queryID=r),this.queueMsgCache.get(r)&&this.queueMsgCache.del(r),this.queueMsgCache.set(r,{cacheEventList:i,cacheCurrEvent:n});let o=[];i.forEach(e=>{o.push({QueueType:e.QueueType,DataType:e.DataType,data:e.Doc})}),this.callbackObj.success({docChanges:JSON.parse(JSON.stringify(o))})}if("nextEventMsg"===t.msgType){let{msgData:e}=t,{queryID:r,currEvent:n,events:i}=e;if(console.log(`收到eventMsgType:${t.msgType}--对应event数据:`,e),this.queryID!==r)throw new Error("缓存状态错误 queryID not match");let o=this.queueMsgCache.get(r);if(!o)throw new Error("缓存状态错误 queryID no cache");let{cacheEventList:s,cacheCurrEvent:a}=o;if(a+1<i[0].ID)console.log("网路异常，event丢失，尝试重连"),this.reconnect();else{let e=i.filter(e=>e.ID>a),t=[];e.forEach(e=>{if("insert"===e.DataType&&(s.push(e),t.push({QueueType:e.QueueType,DataType:e.DataType,data:e.Doc})),"remove"===e.DataType||"update"===e.DataType){let r=s.findIndex(t=>t.DocID===e.DocID);r<0&&console.log("缓存数据与收到event无法对应，重新建立连接拉取数据"),"remove"===e.DataType&&(t.push({QueueType:s[r].QueueType,DataType:s[r].DataType,data:s[r].Doc}),s.splice(r,1)),t.push({QueueType:e.QueueType,DataType:e.DataType,data:e.Doc}),s[r].Doc=e.Doc}}),this.queueMsgCache.set(r,{cacheEventList:s,cacheCurrEvent:n}),this.callbackObj.success({docChanges:JSON.parse(JSON.stringify(t))})}}if("serverErrorMsg"===t.msgType)throw new Error(t.msgData.errorMsg)}),this.ws.on("error",t=>{console.log("client receive error:",t),e?this.reconnect():this.close()}),this.ws.on("close",(t,r)=>{console.log("close code: ",t),console.log("close reason: ",r),e&&this.reconnect()}),this.ws.on("pong",()=>{console.log("client receive pong"),this.heart()})}reconnect(){if(delete this.ws,this.ws=null,this.cleanHeart(),++this.reconnectTimes>3)throw new Error(o.CREATE_WATCH_NET_ERROR);console.log("断线重连次数:",this.reconnectTimes),1===this.reconnectTimes?this.createWsCon(!0):setTimeout(()=>{this.createWsCon(!0)},this.opts.reconnectTimeout)}cleanHeart(){clearTimeout(this.pingTimeoutId),clearTimeout(this.pongTimeoutId)}heart(){this.cleanHeart();let{pingTimeout:e,pongTimeout:t}=this.opts;this.pingTimeoutId=setTimeout(()=>{this.ping(),this.pongTimeoutId=setTimeout(()=>{this.close()},t)},e)}ping(){this.checkWSOpen()?this.ws.ping():this.reconnect()}close(){this.ws.close()}}},function(e,t,r){"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},function(e,t,r){(function(){(e.exports=r(106)).version="4.1.1"}).call(this)},function(e,t,r){(function(){var t,n,i,o,s,a,u,c,f,l,p=function(e,t){return function(){return e.apply(t,arguments)}},h={}.hasOwnProperty,_=[].slice,d=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1};n=r(107),i=r(19),u=r(66),o=r(28),s=r(131),a=r(9),c=r(132),f=r(145),l=r(162),t=r(166).EventEmitter,e.exports=function(e){function r(e){this.options=null!=e?e:{},this._initErrors=p(this._initErrors,this),this._error=p(this._error,this),this._getValLength=p(this._getValLength,this),this._wrap=p(this._wrap,this),this._isInvalidKey=p(this._isInvalidKey,this),this._check=p(this._check,this),this._checkData=p(this._checkData,this),this.close=p(this.close,this),this.flushAll=p(this.flushAll,this),this.getStats=p(this.getStats,this),this.keys=p(this.keys,this),this.getTtl=p(this.getTtl,this),this.ttl=p(this.ttl,this),this.del=p(this.del,this),this.set=p(this.set,this),this.mget=p(this.mget,this),this.get=p(this.get,this),this._initErrors(),this.data={},this.options=n({forceString:!1,objectValueSize:80,arrayValueSize:40,stdTTL:0,checkperiod:600,useClones:!0,errorOnMissing:!1,deleteOnExpire:!0},this.options),this.stats={hits:0,misses:0,keys:0,ksize:0,vsize:0},this.validKeyTypes=["string","number"],this._checkData()}return function(e,t){for(var r in t)h.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(r,t),r.prototype.get=function(e,t,r){var n,i,o;if("boolean"==typeof t&&2===arguments.length&&(r=t,t=void 0),null!=(o=this._isInvalidKey(e))){if(null!=t)return void t(o);throw o}if(null!=this.data[e]&&this._check(e,this.data[e]))return this.stats.hits++,i=this._unwrap(this.data[e]),null!=t&&t(null,i),i;if(this.stats.misses++,this.options.errorOnMissing||r){if(null!=(n=this._error("ENOTFOUND",{key:e},t)))throw n}else null!=t&&t(null,void 0)},r.prototype.mget=function(e,t){var r,n,o,s,a,u;if(!i(e))return r=this._error("EKEYSTYPE"),null!=t&&t(r),r;for(u={},o=0,a=e.length;o<a;o++){if(s=e[o],null!=(n=this._isInvalidKey(s))){if(null!=t)return void t(n);throw n}null!=this.data[s]&&this._check(s,this.data[s])?(this.stats.hits++,u[s]=this._unwrap(this.data[s])):this.stats.misses++}return null!=t&&t(null,u),u},r.prototype.set=function(e,t,r,n){var i,s;if(this.options.forceString&&!u(t)&&(t=JSON.stringify(t)),3===arguments.length&&o(r)&&(n=r,r=this.options.stdTTL),null!=(i=this._isInvalidKey(e))){if(null!=n)return void n(i);throw i}return s=!1,this.data[e]&&(s=!0,this.stats.vsize-=this._getValLength(this._unwrap(this.data[e],!1))),this.data[e]=this._wrap(t,r),this.stats.vsize+=this._getValLength(t),s||(this.stats.ksize+=this._getKeyLength(e),this.stats.keys++),this.emit("set",e,t),null!=n&&n(null,!0),!0},r.prototype.del=function(e,t){var r,n,o,s,a,u;for(i(e)||(e=[e]),r=0,o=0,a=e.length;o<a;o++){if(s=e[o],null!=(n=this._isInvalidKey(s))){if(null!=t)return void t(n);throw n}null!=this.data[s]?(this.stats.vsize-=this._getValLength(this._unwrap(this.data[s],!1)),this.stats.ksize-=this._getKeyLength(s),this.stats.keys--,r++,u=this.data[s],delete this.data[s],this.emit("del",s,u.v)):this.stats.misses++}return null!=t&&t(null,r),r},r.prototype.ttl=function(){var e,t,r,n,i,o,s,a;for(o=arguments[0],i=0,s=(t=2<=arguments.length?_.call(arguments,1):[]).length;i<s;i++)switch(typeof(e=t[i])){case"number":a=e;break;case"function":r=e}if(a||(a=this.options.stdTTL),!o)return null!=r&&r(null,!1),!1;if(null!=(n=this._isInvalidKey(o))){if(null!=r)return void r(n);throw n}return null!=this.data[o]&&this._check(o,this.data[o])?(a>=0?this.data[o]=this._wrap(this.data[o].v,a,!1):this.del(o),null!=r&&r(null,!0),!0):(null!=r&&r(null,!1),!1)},r.prototype.getTtl=function(e,t){var r,n;if(e){if(null!=(n=this._isInvalidKey(e))){if(null!=t)return void t(n);throw n}return null!=this.data[e]&&this._check(e,this.data[e])?(r=this.data[e].t,null!=t&&t(null,r),r):void(null!=t&&t(null,void 0))}null!=t&&t(null,void 0)},r.prototype.keys=function(e){var t;return t=Object.keys(this.data),null!=e&&e(null,t),t},r.prototype.getStats=function(){return this.stats},r.prototype.flushAll=function(e){null==e&&(e=!0),this.data={},this.stats={hits:0,misses:0,keys:0,ksize:0,vsize:0},this._killCheckPeriod(),this._checkData(e),this.emit("flush")},r.prototype.close=function(){this._killCheckPeriod()},r.prototype._checkData=function(e){var t,r,n;for(t in null==e&&(e=!0),r=this.data)n=r[t],this._check(t,n);e&&this.options.checkperiod>0&&(this.checkTimeout=setTimeout(this._checkData,1e3*this.options.checkperiod,e),null!=this.checkTimeout.unref&&this.checkTimeout.unref())},r.prototype._killCheckPeriod=function(){if(null!=this.checkTimeout)return clearTimeout(this.checkTimeout)},r.prototype._check=function(e,t){var r;return r=!0,0!==t.t&&t.t<Date.now()&&(this.options.deleteOnExpire&&(r=!1,this.del(e)),this.emit("expired",e,this._unwrap(t))),r},r.prototype._isInvalidKey=function(e){var t;if(t=typeof e,d.call(this.validKeyTypes,t)<0)return this._error("EKEYTYPE",{type:typeof e})},r.prototype._wrap=function(e,t,r){var n;return null==r&&(r=!0),this.options.useClones||(r=!1),n=Date.now(),0,1e3,{t:0===t?0:t?n+1e3*t:0===this.options.stdTTL?this.options.stdTTL:n+1e3*this.options.stdTTL,v:r?l(e):e}},r.prototype._unwrap=function(e,t){return null==t&&(t=!0),this.options.useClones||(t=!1),null!=e.v?t?l(e.v):e.v:null},r.prototype._getKeyLength=function(e){return e.length},r.prototype._getValLength=function(e){return u(e)?e.length:this.options.forceString?JSON.stringify(e).length:i(e)?this.options.arrayValueSize*e.length:s(e)?8:a(e)?this.options.objectValueSize*c(e):0},r.prototype._error=function(e,t,r){var n;if(null==t&&(t={}),(n=new Error).name=e,n.errorcode=e,n.message=null!=this.ERRORS[e]?this.ERRORS[e](t):"-",n.data=t,!r||!o(r))return n;r(n,null)},r.prototype._initErrors=function(){var e,t,r;for(t in this.ERRORS={},r=this._ERRORS)e=r[t],this.ERRORS[t]=f(e)},r.prototype._ERRORS={ENOTFOUND:"Key `<%= key %>` not found",EKEYTYPE:"The key argument has to be of type `string` or `number`. Found: `<%= type %>`",EKEYSTYPE:"The keys argument has to be an array."},r}()}).call(this)},function(e,t,r){var n=r(50),i=r(55),o=r(62),s=i(function(e,t){n(t,o(t),e)});e.exports=s},function(e,t,r){var n=r(51),i=r(31),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var s=e[t];o.call(e,t)&&i(s,r)&&(void 0!==r||t in e)||n(e,t,r)}},function(e,t,r){var n=r(28),i=r(112),o=r(9),s=r(54),a=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,f=u.toString,l=c.hasOwnProperty,p=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(n(e)?p:a).test(s(e))}},function(e,t,r){var n=r(29),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),r=e[a];try{e[a]=void 0;var n=!0}catch(e){}var i=s.call(e);return n&&(t?e[a]=r:delete e[a]),i}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t,r){var n,i=r(113),o=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!o&&o in e}},function(e,t,r){var n=r(5)["__core-js_shared__"];e.exports=n},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,r){var n=r(58),i=Math.max;e.exports=function(e,t,r){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,s=-1,a=i(o.length-t,0),u=Array(a);++s<a;)u[s]=o[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=o[s];return c[t]=r(u),n(e,this,c)}}},function(e,t,r){var n=r(117),i=r(119)(n);e.exports=i},function(e,t,r){var n=r(118),i=r(52),o=r(57),s=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:o;e.exports=s},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var r=800,n=16,i=Date.now;e.exports=function(e){var t=0,o=0;return function(){var s=i(),a=n-(s-o);if(o=s,a>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},function(e,t,r){var n=r(122),i=r(6),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(e){return i(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=u},function(e,t,r){var n=r(4),i=r(6),o="[object Arguments]";e.exports=function(e){return i(e)&&n(e)==o}},function(e,t,r){(function(e){var n=r(5),i=r(124),o=t&&!t.nodeType&&t,s=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===o?n.Buffer:void 0,u=(a?a.isBuffer:void 0)||i;e.exports=u}).call(this,r(64)(e))},function(e,t){e.exports=function(){return!1}},function(e,t,r){var n=r(126),i=r(127),o=r(128),s=o&&o.isTypedArray,a=s?i(s):n;e.exports=a},function(e,t,r){var n=r(4),i=r(60),o=r(6),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!s[n(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,r){(function(e){var n=r(53),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===i&&n.process,a=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a}).call(this,r(64)(e))},function(e,t,r){var n=r(9),i=r(65),o=r(130),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=i(e),r=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&r.push(a);return r}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},function(e,t,r){var n=r(4),i=r(6),o="[object Number]";e.exports=function(e){return"number"==typeof e||i(e)&&n(e)==o}},function(e,t,r){var n=r(67),i=r(134),o=r(18),s=r(66),a=r(140),u="[object Map]",c="[object Set]";e.exports=function(e){if(null==e)return 0;if(o(e))return s(e)?a(e):e.length;var t=i(e);return t==u||t==c?e.size:n(e).length}},function(e,t,r){var n=r(68)(Object.keys,Object);e.exports=n},function(e,t,r){var n=r(135),i=r(136),o=r(137),s=r(138),a=r(139),u=r(4),c=r(54),f=c(n),l=c(i),p=c(o),h=c(s),_=c(a),d=u;(n&&"[object DataView]"!=d(new n(new ArrayBuffer(1)))||i&&"[object Map]"!=d(new i)||o&&"[object Promise]"!=d(o.resolve())||s&&"[object Set]"!=d(new s)||a&&"[object WeakMap]"!=d(new a))&&(d=function(e){var t=u(e),r="[object Object]"==t?e.constructor:void 0,n=r?c(r):"";if(n)switch(n){case f:return"[object DataView]";case l:return"[object Map]";case p:return"[object Promise]";case h:return"[object Set]";case _:return"[object WeakMap]"}return t}),e.exports=d},function(e,t,r){var n=r(7)(r(5),"DataView");e.exports=n},function(e,t,r){var n=r(7)(r(5),"Map");e.exports=n},function(e,t,r){var n=r(7)(r(5),"Promise");e.exports=n},function(e,t,r){var n=r(7)(r(5),"Set");e.exports=n},function(e,t,r){var n=r(7)(r(5),"WeakMap");e.exports=n},function(e,t,r){var n=r(141),i=r(143),o=r(144);e.exports=function(e){return i(e)?o(e):n(e)}},function(e,t,r){var n=r(142)("length");e.exports=n},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t){var r=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return r.test(e)}},function(e,t){var r="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+n+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?"+u+("(?:\\u200d(?:"+[o,s,a].join("|")+")[\\ufe0e\\ufe0f]?"+u+")*"),f="(?:"+[o+n+"?",n,s,a,r].join("|")+")",l=RegExp(i+"(?="+i+")|"+f+c,"g");e.exports=function(e){for(var t=l.lastIndex=0;l.test(e);)++t;return t}},function(e,t,r){var n=r(146),i=r(147),o=r(150),s=r(151),a=r(152),u=r(69),c=r(59),f=r(153),l=r(71),p=r(154),h=r(72),_=/\b__p \+= '';/g,d=/\b(__p \+=) '' \+/g,y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,g=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,b=/($^)/,m=/['\n\r\u2028\u2029\\]/g;e.exports=function(e,t,r){var v=p.imports._.templateSettings||p;r&&c(e,t,r)&&(t=void 0),e=h(e),t=n({},t,v,s);var E,w,O=n({},t.imports,v.imports,s),S=f(O),T=o(O,S),N=0,A=t.interpolate||b,B="__p += '",I=RegExp((t.escape||b).source+"|"+A.source+"|"+(A===l?g:b).source+"|"+(t.evaluate||b).source+"|$","g"),D="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";e.replace(I,function(t,r,n,i,o,s){return n||(n=i),B+=e.slice(N,s).replace(m,a),r&&(E=!0,B+="' +\n__e("+r+") +\n'"),o&&(w=!0,B+="';\n"+o+";\n__p += '"),n&&(B+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),N=s+t.length,t}),B+="';\n";var R=t.variable;R||(B="with (obj) {\n"+B+"\n}\n"),B=(w?B.replace(_,""):B).replace(d,"$1").replace(y,"$1;"),B="function("+(R||"obj")+") {\n"+(R?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(E?", __e = _.escape":"")+(w?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+B+"return __p\n}";var P=i(function(){return Function(S,D+"return "+B).apply(void 0,T)});if(P.source=B,u(P))throw P;return P}},function(e,t,r){var n=r(50),i=r(55),o=r(62),s=i(function(e,t,r,i){n(t,o(t),e,i)});e.exports=s},function(e,t,r){var n=r(58),i=r(56),o=r(69),s=i(function(e,t){try{return n(e,void 0,t)}catch(e){return o(e)?e:new Error(e)}});e.exports=s},function(e,t,r){var n=r(4),i=r(149),o=r(6),s="[object Object]",a=Function.prototype,u=Object.prototype,c=a.toString,f=u.hasOwnProperty,l=c.call(Object);e.exports=function(e){if(!o(e)||n(e)!=s)return!1;var t=i(e);if(null===t)return!0;var r=f.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==l}},function(e,t,r){var n=r(68)(Object.getPrototypeOf,Object);e.exports=n},function(e,t,r){var n=r(70);e.exports=function(e,t){return n(t,function(t){return e[t]})}},function(e,t,r){var n=r(31),i=Object.prototype,o=i.hasOwnProperty;e.exports=function(e,t,r,s){return void 0===e||n(e,i[r])&&!o.call(s,r)?t:e}},function(e,t){var r={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};e.exports=function(e){return"\\"+r[e]}},function(e,t,r){var n=r(63),i=r(67),o=r(18);e.exports=function(e){return o(e)?n(e):i(e)}},function(e,t,r){var n=r(155),i={escape:r(160),evaluate:r(161),interpolate:r(71),variable:"",imports:{_:{escape:n}}};e.exports=i},function(e,t,r){var n=r(156),i=r(72),o=/[&<>"']/g,s=RegExp(o.source);e.exports=function(e){return(e=i(e))&&s.test(e)?e.replace(o,n):e}},function(e,t,r){var n=r(157)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=n},function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},function(e,t,r){var n=r(29),i=r(70),o=r(19),s=r(159),a=1/0,u=n?n.prototype:void 0,c=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(s(t))return c?c.call(t):"";var r=t+"";return"0"==r&&1/t==-a?"-0":r}},function(e,t,r){var n=r(4),i=r(6),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||i(e)&&n(e)==o}},function(e,t){e.exports=/<%-([\s\S]+?)%>/g},function(e,t){e.exports=/<%([\s\S]+?)%>/g},function(e,t,r){(function(t){var r=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var r,n,i;try{r=Map}catch(e){r=function(){}}try{n=Set}catch(e){n=function(){}}try{i=Promise}catch(e){i=function(){}}function o(s,u,c,f,l){"object"==typeof u&&(c=u.depth,f=u.prototype,l=u.includeNonEnumerable,u=u.circular);var p=[],h=[],_=void 0!==t;return void 0===u&&(u=!0),void 0===c&&(c=1/0),function s(c,d){if(null===c)return null;if(0===d)return c;var y,g;if("object"!=typeof c)return c;if(e(c,r))y=new r;else if(e(c,n))y=new n;else if(e(c,i))y=new i(function(e,t){c.then(function(t){e(s(t,d-1))},function(e){t(s(e,d-1))})});else if(o.__isArray(c))y=[];else if(o.__isRegExp(c))y=new RegExp(c.source,a(c)),c.lastIndex&&(y.lastIndex=c.lastIndex);else if(o.__isDate(c))y=new Date(c.getTime());else{if(_&&t.isBuffer(c))return y=t.allocUnsafe?t.allocUnsafe(c.length):new t(c.length),c.copy(y),y;e(c,Error)?y=Object.create(c):void 0===f?(g=Object.getPrototypeOf(c),y=Object.create(g)):(y=Object.create(f),g=f)}if(u){var b=p.indexOf(c);if(-1!=b)return h[b];p.push(c),h.push(y)}for(var m in e(c,r)&&c.forEach(function(e,t){var r=s(t,d-1),n=s(e,d-1);y.set(r,n)}),e(c,n)&&c.forEach(function(e){var t=s(e,d-1);y.add(t)}),c){var v;g&&(v=Object.getOwnPropertyDescriptor(g,m)),v&&null==v.set||(y[m]=s(c[m],d-1))}if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(c);for(m=0;m<E.length;m++){var w=E[m];(!(S=Object.getOwnPropertyDescriptor(c,w))||S.enumerable||l)&&(y[w]=s(c[w],d-1),S.enumerable||Object.defineProperty(y,w,{enumerable:!1}))}}if(l){var O=Object.getOwnPropertyNames(c);for(m=0;m<O.length;m++){var S,T=O[m];(S=Object.getOwnPropertyDescriptor(c,T))&&S.enumerable||(y[T]=s(c[T],d-1),Object.defineProperty(y,T,{enumerable:!1}))}}return y}(s,c)}function s(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=s,o.__isDate=function(e){return"object"==typeof e&&"[object Date]"===s(e)},o.__isArray=function(e){return"object"==typeof e&&"[object Array]"===s(e)},o.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===s(e)},o.__getRegExpFlags=a,o}();e.exports&&(e.exports=r)}).call(this,r(3).Buffer)},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){for(var t,r=c(e),n=r[0],s=r[1],a=new o(function(e,t,r){return 3*(t+r)/4-r}(0,n,s)),u=0,f=s>0?n-4:n,l=0;l<f;l+=4)t=i[e.charCodeAt(l)]<<18|i[e.charCodeAt(l+1)]<<12|i[e.charCodeAt(l+2)]<<6|i[e.charCodeAt(l+3)],a[u++]=t>>16&255,a[u++]=t>>8&255,a[u++]=255&t;2===s&&(t=i[e.charCodeAt(l)]<<2|i[e.charCodeAt(l+1)]>>4,a[u++]=255&t);1===s&&(t=i[e.charCodeAt(l)]<<10|i[e.charCodeAt(l+1)]<<4|i[e.charCodeAt(l+2)]>>2,a[u++]=t>>8&255,a[u++]=255&t);return a},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(f(e,s,s+16383>a?a:s+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function f(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,f=-7,l=r?i-1:0,p=r?-1:1,h=e[t+l];for(l+=p,o=h&(1<<-f)-1,h>>=-f,f+=a;f>0;o=256*o+e[t+l],l+=p,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+e[t+l],l+=p,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),o-=c}return(h?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,_=n?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+l>=1?p/u:p*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(t*u-1)*Math.pow(2,i),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;e[r+h]=255&a,h+=_,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[r+h]=255&s,h+=_,s/=256,c-=8);e[r+h-_]|=128*d}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function f(e,t,r,n){var i,o,s,a;if("function"!=typeof r)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return e}function l(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}.bind(n);return i.listener=r,n.wrapFn=i,i}function p(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):_(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function _(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var c=u.length,f=_(u,c);for(r=0;r<c;++r)o(f[r],this,t)}return!0},a.prototype.addListener=function(e,t){return f(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return f(this,e,t,!0)},a.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,l(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,l(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,n,i,o,s;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},a.prototype.listenerCount=h,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t){t.ERRORS={CREATE_WATCH_NET_ERROR:{code:"CREATE_WATCH_NET_ERROR",message:"create watch network error"},CREATE_WACTH_EXCEED_ERROR:{code:"CREATE_WACTH_EXCEED_ERROR",message:"maximum connections exceed"},CREATE_WATCH_SERVER_ERROR:{code:"CREATE_WATCH_SERVER_ERROR",message:"create watch server error"},CONN_ERROR:{code:"CONN_ERROR",message:"connection error"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(13),i=r(169);class o{constructor(e,t){this._db=e,this._request=new n.Db.reqClass(this._db.config),this._stages=[],this._collectionName=t}async end(){const e=await this._request.send("database.aggregate",{collectionName:this._collectionName,stages:this._stages});return e&&e.data&&e.data.list?{requestId:e.requestId,data:JSON.parse(e.data.list).map(i.EJSON.parse)}:e}unwrap(){return this._stages}}t.default=o;["addFields","bucket","bucketAuto","count","geoNear","group","limit","match","project","lookup","replaceRoot","sample","skip","sort","sortByCount","unwind"].forEach(e=>{o.prototype[e]=function(t){return this._stages.push({stageKey:`$${e}`,stageValue:JSON.stringify(t)}),this}})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(global,Buffer){__webpack_require__.d(__webpack_exports__,"BSON_INT32_MAX",function(){return bson_1}),__webpack_require__.d(__webpack_exports__,"BSON_INT32_MIN",function(){return bson_2}),__webpack_require__.d(__webpack_exports__,"BSON_INT64_MAX",function(){return bson_3}),__webpack_require__.d(__webpack_exports__,"BSON_INT64_MIN",function(){return bson_4}),__webpack_require__.d(__webpack_exports__,"JS_INT_MAX",function(){return bson_5}),__webpack_require__.d(__webpack_exports__,"JS_INT_MIN",function(){return bson_6}),__webpack_require__.d(__webpack_exports__,"BSON_DATA_NUMBER",function(){return bson_7}),__webpack_require__.d(__webpack_exports__,"BSON_DATA_STRING",function(){return bson_8}),__webpack_require__.d(__webpack_exports__,"BSON_DATA_OBJECT",function(){return bson_9}),__webpack_require__.d(__webpack_exports__,"BSON_DATA_ARRAY",function(){return bson_10}),__webpack_require__.d(__webpack_exports__,"BSON_DATA_BINARY",function(){return bson_11}),__webpack_require__.d(__webpack_exports__,"BSON_DATA_UNDEFINED",function(){return bson_12}),__webpack_require__.d(__webpack_exports__,"BSON_DATA_OID",function(){return bson_13}),__webpack_require__.d(__webpack_exports__,"BSON_DATA_BOOLEAN",function(){return bson_14}),__webpack_require__.d(__webpack_exports__,"BSON_DATA_DATE",function(){return bson_15}),__webpack_require__.d(__webpack_exports__,"BSON_DATA_NULL",function(){return bson_16}),__webpack_require__.d(__webpack_exports__,"BSON_DATA_REGEXP",function(){return bson_17}),__webpack_require__.d(__webpack_exports__,"BSON_DATA_DBPOINTER",function(){return bson_18}),__webpack_require__.d(__webpack_exports__,"BSON_DATA_CODE",function(){return bson_19}),__webpack_require__.d(__webpack_exports__,"BSON_DATA_SYMBOL",function(){return bson_20}),__webpack_require__.d(__webpack_exports__,"BSON_DATA_CODE_W_SCOPE",function(){return bson_21}),__webpack_require__.d(__webpack_exports__,"BSON_DATA_INT",function(){return bson_22}),__webpack_require__.d(__webpack_exports__,"BSON_DATA_TIMESTAMP",function(){return bson_23}),__webpack_require__.d(__webpack_exports__,"BSON_DATA_LONG",function(){return bson_24}),__webpack_require__.d(__webpack_exports__,"BSON_DATA_DECIMAL128",function(){return bson_25}),__webpack_require__.d(__webpack_exports__,"BSON_DATA_MIN_KEY",function(){return bson_26}),__webpack_require__.d(__webpack_exports__,"BSON_DATA_MAX_KEY",function(){return bson_27}),__webpack_require__.d(__webpack_exports__,"BSON_BINARY_SUBTYPE_DEFAULT",function(){return bson_28}),__webpack_require__.d(__webpack_exports__,"BSON_BINARY_SUBTYPE_FUNCTION",function(){return bson_29}),__webpack_require__.d(__webpack_exports__,"BSON_BINARY_SUBTYPE_BYTE_ARRAY",function(){return bson_30}),__webpack_require__.d(__webpack_exports__,"BSON_BINARY_SUBTYPE_UUID",function(){return bson_31}),__webpack_require__.d(__webpack_exports__,"BSON_BINARY_SUBTYPE_MD5",function(){return bson_32}),__webpack_require__.d(__webpack_exports__,"BSON_BINARY_SUBTYPE_USER_DEFINED",function(){return bson_33}),__webpack_require__.d(__webpack_exports__,"Code",function(){return bson_34}),__webpack_require__.d(__webpack_exports__,"BSONSymbol",function(){return bson_35}),__webpack_require__.d(__webpack_exports__,"DBRef",function(){return bson_36}),__webpack_require__.d(__webpack_exports__,"Binary",function(){return bson_37}),__webpack_require__.d(__webpack_exports__,"ObjectId",function(){return bson_38}),__webpack_require__.d(__webpack_exports__,"Long",function(){return bson_39}),__webpack_require__.d(__webpack_exports__,"Timestamp",function(){return bson_40}),__webpack_require__.d(__webpack_exports__,"Double",function(){return bson_41}),__webpack_require__.d(__webpack_exports__,"Int32",function(){return bson_42}),__webpack_require__.d(__webpack_exports__,"MinKey",function(){return bson_43}),__webpack_require__.d(__webpack_exports__,"MaxKey",function(){return bson_44}),__webpack_require__.d(__webpack_exports__,"BSONRegExp",function(){return bson_45}),__webpack_require__.d(__webpack_exports__,"Decimal128",function(){return bson_46}),__webpack_require__.d(__webpack_exports__,"serialize",function(){return bson_47}),__webpack_require__.d(__webpack_exports__,"serializeWithBufferAndIndex",function(){return bson_48}),__webpack_require__.d(__webpack_exports__,"deserialize",function(){return bson_49}),__webpack_require__.d(__webpack_exports__,"calculateObjectSize",function(){return bson_50}),__webpack_require__.d(__webpack_exports__,"deserializeStream",function(){return bson_51}),__webpack_require__.d(__webpack_exports__,"setInternalBufferSize",function(){return bson_52}),__webpack_require__.d(__webpack_exports__,"ObjectID",function(){return bson_53}),__webpack_require__.d(__webpack_exports__,"EJSON",function(){return bson_54});var long__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8),long__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(long__WEBPACK_IMPORTED_MODULE_0__),buffer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),buffer__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(buffer__WEBPACK_IMPORTED_MODULE_1__),commonjsGlobal="undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var map=createCommonjsModule(function(e){if(void 0!==commonjsGlobal.Map)e.exports=commonjsGlobal.Map,e.exports.Map=commonjsGlobal.Map;else{var t=function(e){this._keys=[],this._values={};for(var t=0;t<e.length;t++)if(null!=e[t]){var r=e[t],n=r[0],i=r[1];this._keys.push(n),this._values[n]={v:i,i:this._keys.length-1}}};t.prototype.clear=function(){this._keys=[],this._values={}},t.prototype.delete=function(e){var t=this._values[e];return null!=t&&(delete this._values[e],this._keys.splice(t.i,1),!0)},t.prototype.entries=function(){var e=this,t=0;return{next:function(){var r=e._keys[t++];return{value:void 0!==r?[r,e._values[r].v]:void 0,done:void 0===r}}}},t.prototype.forEach=function(e,t){t=t||this;for(var r=0;r<this._keys.length;r++){var n=this._keys[r];e.call(t,this._values[n].v,n,t)}},t.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},t.prototype.has=function(e){return null!=this._values[e]},t.prototype.keys=function(){var e=this,t=0;return{next:function(){var r=e._keys[t++];return{value:void 0!==r?r:void 0,done:void 0===r}}}},t.prototype.set=function(e,t){return this._values[e]?(this._values[e].v=t,this):(this._keys.push(e),this._values[e]={v:t,i:this._keys.length-1},this)},t.prototype.values=function(){var e=this,t=0;return{next:function(){var r=e._keys[t++];return{value:void 0!==r?e._values[r].v:void 0,done:void 0===r}}}},Object.defineProperty(t.prototype,"size",{enumerable:!0,get:function(){return this._keys.length}}),e.exports=t}}),map_1=map.Map;long__WEBPACK_IMPORTED_MODULE_0___default.a.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},long__WEBPACK_IMPORTED_MODULE_0___default.a.fromExtendedJSON=function(e,t){var r=long__WEBPACK_IMPORTED_MODULE_0___default.a.fromString(e.$numberLong);return t&&t.relaxed?r.toNumber():r},Object.defineProperty(long__WEBPACK_IMPORTED_MODULE_0___default.a.prototype,"_bsontype",{value:"Long"});var long_1=long__WEBPACK_IMPORTED_MODULE_0___default.a;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}var Double=function(){function e(t){_classCallCheck(this,e),this.value=t}return _createClass(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(e){return e&&e.relaxed&&isFinite(this.value)?this.value:{$numberDouble:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(t,r){return r&&r.relaxed?parseFloat(t.$numberDouble):new e(parseFloat(t.$numberDouble))}}]),e}();Object.defineProperty(Double.prototype,"_bsontype",{value:"Double"});var double_1=Double;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck$1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass$1(e,t,r){return t&&_defineProperties$1(e.prototype,t),r&&_defineProperties$1(e,r),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Timestamp=function(e){function t(e,r){var n;return _classCallCheck$1(this,t),n=long_1.isLong(e)?_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e.low,e.high)):_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,r)),_possibleConstructorReturn(n)}return _inherits(t,long_1),_createClass$1(t,[{key:"toJSON",value:function(){return{$timestamp:this.toString()}}},{key:"toExtendedJSON",value:function(){return{$timestamp:{t:this.high,i:this.low}}}}],[{key:"fromInt",value:function(e){return new t(long_1.fromInt(e))}},{key:"fromNumber",value:function(e){return new t(long_1.fromNumber(e))}},{key:"fromBits",value:function(e,r){return new t(e,r)}},{key:"fromString",value:function(e,r){return new t(long_1.fromString(e,r))}},{key:"fromExtendedJSON",value:function(e){return new t(e.$timestamp.i,e.$timestamp.t)}}]),t}();Object.defineProperty(Timestamp.prototype,"_bsontype",{value:"Timestamp"});var timestamp=Timestamp,require$$0={};function normalizedFunctionString(e){return e.toString().replace("function(","function (")}function insecureRandomBytes(e){for(var t=new Uint8Array(e),r=0;r<e;++r)t[r]=Math.floor(256*Math.random());return t}var randomBytes=insecureRandomBytes;if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues)randomBytes=function(e){return window.crypto.getRandomValues(new Uint8Array(e))};else{try{randomBytes=require$$0.randomBytes}catch(e){}null==randomBytes&&(randomBytes=insecureRandomBytes)}var utils={normalizedFunctionString:normalizedFunctionString,randomBytes:randomBytes};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}var cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}"function"==typeof global.setTimeout&&(cachedSetTimeout=setTimeout),"function"==typeof global.clearTimeout&&(cachedClearTimeout=clearTimeout);var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function nextTick(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)}function Item(e,t){this.fun=e,this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};var title="browser",platform="browser",browser=!0,env={},argv=[],version="",versions={},release={},config={};function noop(){}var on=noop,addListener=noop,once=noop,off=noop,removeListener=noop,removeAllListeners=noop,emit=noop;function binding(e){throw new Error("process.binding is not supported")}function cwd(){return"/"}function chdir(e){throw new Error("process.chdir is not supported")}function umask(){return 0}var performance=global.performance||{},performanceNow=performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()};function hrtime(e){var t=.001*performanceNow.call(performance),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]}var startTime=new Date;function uptime(){return(new Date-startTime)/1e3}var process={nextTick:nextTick,title:title,browser:browser,env:env,argv:argv,version:version,versions:versions,on:on,addListener:addListener,once:once,off:off,removeListener:removeListener,removeAllListeners:removeAllListeners,emit:emit,binding:binding,cwd:cwd,chdir:chdir,umask:umask,hrtime:hrtime,platform:platform,release:release,config:config,uptime:uptime},inherits;inherits="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e};var inherits$1=inherits;function _typeof$1(e){return(_typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var formatRegExp=/%[sdj%]/g;function format(e){if(!isString(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(inspect(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(e).replace(formatRegExp,function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),s=n[r];r<i;s=n[++r])isNull(s)||!isObject(s)?o+=" "+s:o+=" "+inspect(s);return o}function deprecate(e,t){if(isUndefined(global.process))return function(){return deprecate(e,t).apply(this,arguments)};var r=!1;return function(){return r||(console.error(t),r=!0),e.apply(this,arguments)}}var debugs={},debugEnviron;function debuglog(e){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),e=e.toUpperCase(),!debugs[e])if(new RegExp("\\b"+e+"\\b","i").test(debugEnviron)){debugs[e]=function(){var t=format.apply(null,arguments);console.error("%s %d: %s",e,0,t)}}else debugs[e]=function(){};return debugs[e]}function inspect(e,t){var r={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),isBoolean(t)?r.showHidden=t:t&&_extend(r,t),isUndefined(r.showHidden)&&(r.showHidden=!1),isUndefined(r.depth)&&(r.depth=2),isUndefined(r.colors)&&(r.colors=!1),isUndefined(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=stylizeWithColor),formatValue(r,e,r.depth)}function stylizeWithColor(e,t){var r=inspect.styles[t];return r?"["+inspect.colors[r][0]+"m"+e+"["+inspect.colors[r][1]+"m":e}function stylizeNoColor(e,t){return e}function arrayToHash(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function formatValue(e,t,r){if(e.customInspect&&t&&isFunction(t.inspect)&&t.inspect!==inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return isString(n)||(n=formatValue(e,n,r)),n}var i=formatPrimitive(e,t);if(i)return i;var o=Object.keys(t),s=arrayToHash(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),isError(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return formatError(t);if(0===o.length){if(isFunction(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(isRegExp(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(isDate(t))return e.stylize(Date.prototype.toString.call(t),"date");if(isError(t))return formatError(t)}var u,c="",f=!1,l=["{","}"];(isArray(t)&&(f=!0,l=["[","]"]),isFunction(t))&&(c=" [Function"+(t.name?": "+t.name:"")+"]");return isRegExp(t)&&(c=" "+RegExp.prototype.toString.call(t)),isDate(t)&&(c=" "+Date.prototype.toUTCString.call(t)),isError(t)&&(c=" "+formatError(t)),0!==o.length||f&&0!=t.length?r<0?isRegExp(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),u=f?formatArray(e,t,r,s,o):o.map(function(n){return formatProperty(e,t,r,s,n,f)}),e.seen.pop(),reduceToSingleString(u,c,l)):l[0]+c+l[1]}function formatPrimitive(e,t){if(isUndefined(t))return e.stylize("undefined","undefined");if(isString(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return isNumber(t)?e.stylize(""+t,"number"):isBoolean(t)?e.stylize(""+t,"boolean"):isNull(t)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,t,r,n,i){for(var o=[],s=0,a=t.length;s<a;++s)hasOwnProperty(t,String(s))?o.push(formatProperty(e,t,r,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(formatProperty(e,t,r,n,i,!0))}),o}function formatProperty(e,t,r,n,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),hasOwnProperty(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=isNull(r)?formatValue(e,u.value,null):formatValue(e,u.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),isUndefined(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function reduceToSingleString(e,t,r){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isSymbol(e){return"symbol"===_typeof$1(e)}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"===_typeof$1(e)&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===_typeof$1(e)||void 0===e}function isBuffer(e){return Buffer.isBuffer(e)}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return e<10?"0"+e.toString(10):e.toString(10)}inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp$1(){var e=new Date,t=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),months[e.getMonth()],t].join(" ")}function log(){console.log("%s - %s",timestamp$1(),format.apply(null,arguments))}function _extend(e,t){if(!t||!isObject(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var util={inherits:inherits$1,_extend:_extend,log:log,isBuffer:isBuffer,isPrimitive:isPrimitive,isFunction:isFunction,isError:isError,isDate:isDate,isObject:isObject,isRegExp:isRegExp,isUndefined:isUndefined,isSymbol:isSymbol,isString:isString,isNumber:isNumber,isNullOrUndefined:isNullOrUndefined,isNull:isNull,isBoolean:isBoolean,isArray:isArray,inspect:inspect,deprecate:deprecate,format:format,debuglog:debuglog};function _classCallCheck$2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass$2(e,t,r){return t&&_defineProperties$2(e.prototype,t),r&&_defineProperties$2(e,r),e}var Buffer$1=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,randomBytes$1=utils.randomBytes,deprecate$1=util.deprecate,PROCESS_UNIQUE=randomBytes$1(5),checkForHexRegExp=new RegExp("^[0-9a-fA-F]{24}$"),hasBufferType=!1;try{Buffer$1&&Buffer$1.from&&(hasBufferType=!0)}catch(e){hasBufferType=!1}for(var hexTable=[],_i=0;_i<256;_i++)hexTable[_i]=(_i<=15?"0":"")+_i.toString(16);for(var decodeLookup=[],i=0;i<10;)decodeLookup[48+i]=i++;for(;i<16;)decodeLookup[55+i]=decodeLookup[87+i]=i++;var _Buffer=Buffer$1;function convertToHex(e){return e.toString("hex")}function makeObjectIdError(e,t){var r=e[t];return new TypeError('ObjectId string "'.concat(e,'" contains invalid character "').concat(r,'" with character code (').concat(e.charCodeAt(t),"). All character codes for a non-hex string must be less than 256."))}var ObjectId=function(){function e(t){if(_classCallCheck$2(this,e),t instanceof e)return t;if(null==t||"number"==typeof t)return this.id=e.generate(t),void(e.cacheHexString&&(this.__id=this.toString("hex")));var r=e.isValid(t);if(!r&&null!=t)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(r&&"string"==typeof t&&24===t.length&&hasBufferType)return new e(Buffer$1.from(t,"hex"));if(r&&"string"==typeof t&&24===t.length)return e.createFromHexString(t);if(null==t||12!==t.length){if(null!=t&&t.toHexString)return e.createFromHexString(t.toHexString());throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}this.id=t,e.cacheHexString&&(this.__id=this.toString("hex"))}return _createClass$2(e,[{key:"toHexString",value:function(){if(e.cacheHexString&&this.__id)return this.__id;var t="";if(!this.id||!this.id.length)throw new TypeError("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id instanceof _Buffer)return t=convertToHex(this.id),e.cacheHexString&&(this.__id=t),t;for(var r=0;r<this.id.length;r++){var n=hexTable[this.id.charCodeAt(r)];if("string"!=typeof n)throw makeObjectIdError(this.id,r);t+=n}return e.cacheHexString&&(this.__id=t),t}},{key:"toString",value:function(e){return this.id&&this.id.copy?this.id.toString("string"==typeof e?e:"hex"):this.toHexString()}},{key:"toJSON",value:function(){return this.toHexString()}},{key:"equals",value:function(t){return t instanceof e?this.toString()===t.toString():"string"==typeof t&&e.isValid(t)&&12===t.length&&this.id instanceof _Buffer?t===this.id.toString("binary"):"string"==typeof t&&e.isValid(t)&&24===t.length?t.toLowerCase()===this.toHexString():"string"==typeof t&&e.isValid(t)&&12===t.length?t===this.id:!(null==t||!(t instanceof e||t.toHexString))&&t.toHexString()===this.toHexString()}},{key:"getTimestamp",value:function(){var e=new Date,t=this.id.readUInt32BE(0);return e.setTime(1e3*Math.floor(t)),e}},{key:"toExtendedJSON",value:function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}}],[{key:"getInc",value:function(){return e.index=(e.index+1)%16777215}},{key:"generate",value:function(t){"number"!=typeof t&&(t=~~(Date.now()/1e3));var r=e.getInc(),n=Buffer$1.alloc(12);return n[3]=255&t,n[2]=t>>8&255,n[1]=t>>16&255,n[0]=t>>24&255,n[4]=PROCESS_UNIQUE[0],n[5]=PROCESS_UNIQUE[1],n[6]=PROCESS_UNIQUE[2],n[7]=PROCESS_UNIQUE[3],n[8]=PROCESS_UNIQUE[4],n[11]=255&r,n[10]=r>>8&255,n[9]=r>>16&255,n}},{key:"createPk",value:function(){return new e}},{key:"createFromTime",value:function(t){var r=Buffer$1.from([0,0,0,0,0,0,0,0,0,0,0,0]);return r[3]=255&t,r[2]=t>>8&255,r[1]=t>>16&255,r[0]=t>>24&255,new e(r)}},{key:"createFromHexString",value:function(t){if(void 0===t||null!=t&&24!==t.length)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(hasBufferType)return new e(Buffer$1.from(t,"hex"));for(var r=new _Buffer(12),n=0,i=0;i<24;)r[n++]=decodeLookup[t.charCodeAt(i++)]<<4|decodeLookup[t.charCodeAt(i++)];return new e(r)}},{key:"isValid",value:function(t){return null!=t&&("number"==typeof t||("string"==typeof t?12===t.length||24===t.length&&checkForHexRegExp.test(t):t instanceof e||(t instanceof _Buffer&&12===t.length||!!t.toHexString&&(12===t.id.length||24===t.id.length&&checkForHexRegExp.test(t.id)))))}},{key:"fromExtendedJSON",value:function(t){return new e(t.$oid)}}]),e}();ObjectId.get_inc=deprecate$1(function(){return ObjectId.getInc()},"Please use the static `ObjectId.getInc()` instead"),ObjectId.prototype.get_inc=deprecate$1(function(){return ObjectId.getInc()},"Please use the static `ObjectId.getInc()` instead"),ObjectId.prototype.getInc=deprecate$1(function(){return ObjectId.getInc()},"Please use the static `ObjectId.getInc()` instead"),ObjectId.prototype.generate=deprecate$1(function(e){return ObjectId.generate(e)},"Please use the static `ObjectId.generate(time)` instead"),Object.defineProperty(ObjectId.prototype,"generationTime",{enumerable:!0,get:function(){return this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24},set:function(e){this.id[3]=255&e,this.id[2]=e>>8&255,this.id[1]=e>>16&255,this.id[0]=e>>24&255}}),ObjectId.prototype[util.inspect.custom||"inspect"]=ObjectId.prototype.toString,ObjectId.index=~~(16777215*Math.random()),Object.defineProperty(ObjectId.prototype,"_bsontype",{value:"ObjectID"});var objectid=ObjectId;function _classCallCheck$3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass$3(e,t,r){return t&&_defineProperties$3(e.prototype,t),r&&_defineProperties$3(e,r),e}function alphabetize(e){return e.split("").sort().join("")}var BSONRegExp=function(){function e(t,r){_classCallCheck$3(this,e),this.pattern=t||"",this.options=r?alphabetize(r):"";for(var n=0;n<this.options.length;n++)if("i"!==this.options[n]&&"m"!==this.options[n]&&"x"!==this.options[n]&&"l"!==this.options[n]&&"s"!==this.options[n]&&"u"!==this.options[n])throw new Error("The regular expression option [".concat(this.options[n],"] is not supported"))}return _createClass$3(e,[{key:"toExtendedJSON",value:function(){return{$regularExpression:{pattern:this.pattern,options:this.options}}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$regularExpression.pattern,t.$regularExpression.options.split("").sort().join(""))}}]),e}();Object.defineProperty(BSONRegExp.prototype,"_bsontype",{value:"BSONRegExp"});var regexp=BSONRegExp;function _classCallCheck$4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass$4(e,t,r){return t&&_defineProperties$4(e.prototype,t),r&&_defineProperties$4(e,r),e}var BSONSymbol=function(){function e(t){_classCallCheck$4(this,e),this.value=t}return _createClass$4(e,[{key:"valueOf",value:function(){return this.value}},{key:"toString",value:function(){return this.value}},{key:"inspect",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(){return{$symbol:this.value}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$symbol)}}]),e}();Object.defineProperty(BSONSymbol.prototype,"_bsontype",{value:"Symbol"});var symbol=BSONSymbol;function _classCallCheck$5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass$5(e,t,r){return t&&_defineProperties$5(e.prototype,t),r&&_defineProperties$5(e,r),e}var Int32=function(){function e(t){_classCallCheck$5(this,e),this.value=t}return _createClass$5(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(e){return e&&e.relaxed?this.value:{$numberInt:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(t,r){return r&&r.relaxed?parseInt(t.$numberInt,10):new e(t.$numberInt)}}]),e}();Object.defineProperty(Int32.prototype,"_bsontype",{value:"Int32"});var int_32=Int32;function _classCallCheck$6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass$6(e,t,r){return t&&_defineProperties$6(e.prototype,t),r&&_defineProperties$6(e,r),e}var Code=function(){function e(t,r){_classCallCheck$6(this,e),this.code=t,this.scope=r}return _createClass$6(e,[{key:"toJSON",value:function(){return{scope:this.scope,code:this.code}}},{key:"toExtendedJSON",value:function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$code,t.$scope)}}]),e}();Object.defineProperty(Code.prototype,"_bsontype",{value:"Code"});var code=Code,Buffer$2=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,PARSE_STRING_REGEXP=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,PARSE_INF_REGEXP=/^(\+|-)?(Infinity|inf)$/i,PARSE_NAN_REGEXP=/^(\+|-)?NaN$/i,EXPONENT_MAX=6111,EXPONENT_MIN=-6176,EXPONENT_BIAS=6176,MAX_DIGITS=34,NAN_BUFFER=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),INF_NEGATIVE_BUFFER=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),INF_POSITIVE_BUFFER=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),EXPONENT_REGEX=/^([-+])?(\d+)?$/;function isDigit(e){return!isNaN(parseInt(e,10))}function divideu128(e){var t=long_1.fromNumber(1e9),r=long_1.fromNumber(0);if(!(e.parts[0]||e.parts[1]||e.parts[2]||e.parts[3]))return{quotient:e,rem:r};for(var n=0;n<=3;n++)r=(r=r.shiftLeft(32)).add(new long_1(e.parts[n],0)),e.parts[n]=r.div(t).low,r=r.modulo(t);return{quotient:e,rem:r}}function multiply64x2(e,t){if(!e&&!t)return{high:long_1.fromNumber(0),low:long_1.fromNumber(0)};var r=e.shiftRightUnsigned(32),n=new long_1(e.getLowBits(),0),i=t.shiftRightUnsigned(32),o=new long_1(t.getLowBits(),0),s=r.multiply(i),a=r.multiply(o),u=n.multiply(i),c=n.multiply(o);return s=s.add(a.shiftRightUnsigned(32)),a=new long_1(a.getLowBits(),0).add(u).add(c.shiftRightUnsigned(32)),{high:s=s.add(a.shiftRightUnsigned(32)),low:c=a.shiftLeft(32).add(new long_1(c.getLowBits(),0))}}function lessThan(e,t){var r=e.high>>>0,n=t.high>>>0;return r<n||r===n&&e.low>>>0<t.low>>>0}function invalidErr(e,t){throw new TypeError('"'.concat(e,'" is not a valid Decimal128 string - ').concat(t))}function Decimal128(e){this.bytes=e}Decimal128.fromString=function(e){var t,r=!1,n=!1,i=!1,o=0,s=0,a=0,u=0,c=0,f=[0],l=0,p=0,h=0,_=0,d=0,y=0,g=[0,0],b=[0,0],m=0;if(e.length>=7e3)throw new TypeError(e+" not a valid Decimal128 string");var v=e.match(PARSE_STRING_REGEXP),E=e.match(PARSE_INF_REGEXP),w=e.match(PARSE_NAN_REGEXP);if(!v&&!E&&!w||0===e.length)throw new TypeError(e+" not a valid Decimal128 string");if(v){var O=v[2],S=v[4],T=v[5],N=v[6];S&&void 0===N&&invalidErr(e,"missing exponent power"),S&&void 0===O&&invalidErr(e,"missing exponent base"),void 0===S&&(T||N)&&invalidErr(e,"missing e before exponent")}if("+"!==e[m]&&"-"!==e[m]||(r="-"===e[m++]),!isDigit(e[m])&&"."!==e[m]){if("i"===e[m]||"I"===e[m])return new Decimal128(Buffer$2.from(r?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER));if("N"===e[m])return new Decimal128(Buffer$2.from(NAN_BUFFER))}for(;isDigit(e[m])||"."===e[m];)"."!==e[m]?(l<34&&("0"!==e[m]||i)&&(i||(c=s),i=!0,f[p++]=parseInt(e[m],10),l+=1),i&&(a+=1),n&&(u+=1),s+=1,m+=1):(n&&invalidErr(e,"contains multiple periods"),n=!0,m+=1);if(n&&!s)throw new TypeError(e+" not a valid Decimal128 string");if("e"===e[m]||"E"===e[m]){var A=e.substr(++m).match(EXPONENT_REGEX);if(!A||!A[2])return new Decimal128(Buffer$2.from(NAN_BUFFER));d=parseInt(A[0],10),m+=A[0].length}if(e[m])return new Decimal128(Buffer$2.from(NAN_BUFFER));if(h=0,l){if(_=l-1,1!==(o=a))for(;"0"===e[c+o-1];)o-=1}else h=0,_=0,f[0]=0,a=1,l=1,o=0;for(d<=u&&u-d>16384?d=EXPONENT_MIN:d-=u;d>EXPONENT_MAX;){if((_+=1)-h>MAX_DIGITS){if(f.join("").match(/^0+$/)){d=EXPONENT_MAX;break}invalidErr(e,"overflow")}d-=1}for(;d<EXPONENT_MIN||l<a;){if(0===_&&o<l){d=EXPONENT_MIN,o=0;break}if(l<a?a-=1:_-=1,d<EXPONENT_MAX)d+=1;else{if(f.join("").match(/^0+$/)){d=EXPONENT_MAX;break}invalidErr(e,"overflow")}}if(_-h+1<o){var B=s;n&&(c+=1,B+=1),r&&(c+=1,B+=1);var I=parseInt(e[c+_+1],10),D=0;if(I>=5&&(D=1,5===I))for(D=f[_]%2==1,y=c+_+2;y<B;y++)if(parseInt(e[y],10)){D=1;break}if(D)for(var R=_;R>=0;R--)if(++f[R]>9&&(f[R]=0,0===R)){if(!(d<EXPONENT_MAX))return new Decimal128(Buffer$2.from(r?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER));d+=1,f[R]=1}}if(g=long_1.fromNumber(0),b=long_1.fromNumber(0),0===o)g=long_1.fromNumber(0),b=long_1.fromNumber(0);else if(_-h<17){var P=h;for(b=long_1.fromNumber(f[P++]),g=new long_1(0,0);P<=_;P++)b=(b=b.multiply(long_1.fromNumber(10))).add(long_1.fromNumber(f[P]))}else{var M=h;for(g=long_1.fromNumber(f[M++]);M<=_-17;M++)g=(g=g.multiply(long_1.fromNumber(10))).add(long_1.fromNumber(f[M]));for(b=long_1.fromNumber(f[M++]);M<=_;M++)b=(b=b.multiply(long_1.fromNumber(10))).add(long_1.fromNumber(f[M]))}var x=multiply64x2(g,long_1.fromString("100000000000000000"));x.low=x.low.add(b),lessThan(x.low,b)&&(x.high=x.high.add(long_1.fromNumber(1))),t=d+EXPONENT_BIAS;var C={low:long_1.fromNumber(0),high:long_1.fromNumber(0)};x.high.shiftRightUnsigned(49).and(long_1.fromNumber(1)).equals(long_1.fromNumber(1))?(C.high=C.high.or(long_1.fromNumber(3).shiftLeft(61)),C.high=C.high.or(long_1.fromNumber(t).and(long_1.fromNumber(16383).shiftLeft(47))),C.high=C.high.or(x.high.and(long_1.fromNumber(0x7fffffffffff)))):(C.high=C.high.or(long_1.fromNumber(16383&t).shiftLeft(49)),C.high=C.high.or(x.high.and(long_1.fromNumber(562949953421311)))),C.low=x.low,r&&(C.high=C.high.or(long_1.fromString("9223372036854775808")));var L=Buffer$2.alloc(16);return m=0,L[m++]=255&C.low.low,L[m++]=C.low.low>>8&255,L[m++]=C.low.low>>16&255,L[m++]=C.low.low>>24&255,L[m++]=255&C.low.high,L[m++]=C.low.high>>8&255,L[m++]=C.low.high>>16&255,L[m++]=C.low.high>>24&255,L[m++]=255&C.high.low,L[m++]=C.high.low>>8&255,L[m++]=C.high.low>>16&255,L[m++]=C.high.low>>24&255,L[m++]=255&C.high.high,L[m++]=C.high.high>>8&255,L[m++]=C.high.high>>16&255,L[m++]=C.high.high>>24&255,new Decimal128(L)};var COMBINATION_MASK=31,EXPONENT_MASK=16383,COMBINATION_INFINITY=30,COMBINATION_NAN=31;Decimal128.prototype.toString=function(){for(var e,t,r,n,i,o,s=0,a=new Array(36),u=0;u<a.length;u++)a[u]=0;var c,f,l,p,h,_=0,d=!1,y={parts:new Array(4)},g=[];_=0;var b=this.bytes;if(n=b[_++]|b[_++]<<8|b[_++]<<16|b[_++]<<24,r=b[_++]|b[_++]<<8|b[_++]<<16|b[_++]<<24,t=b[_++]|b[_++]<<8|b[_++]<<16|b[_++]<<24,e=b[_++]|b[_++]<<8|b[_++]<<16|b[_++]<<24,_=0,{low:new long_1(n,r),high:new long_1(t,e)}.high.lessThan(long_1.ZERO)&&g.push("-"),(i=e>>26&COMBINATION_MASK)>>3==3){if(i===COMBINATION_INFINITY)return g.join("")+"Infinity";if(i===COMBINATION_NAN)return"NaN";o=e>>15&EXPONENT_MASK,l=8+(e>>14&1)}else l=e>>14&7,o=e>>17&EXPONENT_MASK;if(c=o-EXPONENT_BIAS,y.parts[0]=(16383&e)+((15&l)<<14),y.parts[1]=t,y.parts[2]=r,y.parts[3]=n,0===y.parts[0]&&0===y.parts[1]&&0===y.parts[2]&&0===y.parts[3])d=!0;else for(h=3;h>=0;h--){var m=0,v=divideu128(y);if(y=v.quotient,m=v.rem.low)for(p=8;p>=0;p--)a[9*h+p]=m%10,m=Math.floor(m/10)}if(d)s=1,a[_]=0;else for(s=36;!a[_];)s-=1,_+=1;if((f=s-1+c)>=34||f<=-7||c>0){if(s>34)return g.push(0),c>0?g.push("E+"+c):c<0&&g.push("E"+c),g.join("");g.push(a[_++]),(s-=1)&&g.push(".");for(var E=0;E<s;E++)g.push(a[_++]);g.push("E"),f>0?g.push("+"+f):g.push(f)}else if(c>=0)for(var w=0;w<s;w++)g.push(a[_++]);else{var O=s+c;if(O>0)for(var S=0;S<O;S++)g.push(a[_++]);else g.push("0");for(g.push(".");O++<0;)g.push("0");for(var T=0;T<s-Math.max(O-1,0);T++)g.push(a[_++])}return g.join("")},Decimal128.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},Decimal128.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},Decimal128.fromExtendedJSON=function(e){return Decimal128.fromString(e.$numberDecimal)},Object.defineProperty(Decimal128.prototype,"_bsontype",{value:"Decimal128"});var decimal128=Decimal128;function _classCallCheck$7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass$7(e,t,r){return t&&_defineProperties$7(e.prototype,t),r&&_defineProperties$7(e,r),e}var MinKey=function(){function e(){_classCallCheck$7(this,e)}return _createClass$7(e,[{key:"toExtendedJSON",value:function(){return{$minKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),e}();Object.defineProperty(MinKey.prototype,"_bsontype",{value:"MinKey"});var min_key=MinKey;function _classCallCheck$8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass$8(e,t,r){return t&&_defineProperties$8(e.prototype,t),r&&_defineProperties$8(e,r),e}var MaxKey=function(){function e(){_classCallCheck$8(this,e)}return _createClass$8(e,[{key:"toExtendedJSON",value:function(){return{$maxKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),e}();Object.defineProperty(MaxKey.prototype,"_bsontype",{value:"MaxKey"});var max_key=MaxKey;function _classCallCheck$9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass$9(e,t,r){return t&&_defineProperties$9(e.prototype,t),r&&_defineProperties$9(e,r),e}var DBRef=function(){function e(t,r,n,i){_classCallCheck$9(this,e);var o=t.split(".");2===o.length&&(n=o.shift(),t=o.shift()),this.collection=t,this.oid=r,this.db=n,this.fields=i||{}}return _createClass$9(e,[{key:"toJSON",value:function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(e.$db=this.db),e}},{key:"toExtendedJSON",value:function(){var e={$ref:this.collection,$id:this.oid};return this.db&&(e.$db=this.db),e=Object.assign(e,this.fields)}}],[{key:"fromExtendedJSON",value:function(t){var r=Object.assign({},t);return["$ref","$id","$db"].forEach(function(e){return delete r[e]}),new e(t.$ref,t.$id,t.$db,r)}}]),e}();Object.defineProperty(DBRef.prototype,"_bsontype",{value:"DBRef"}),Object.defineProperty(DBRef.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},configurable:!1});var db_ref=DBRef;function _classCallCheck$a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass$a(e,t,r){return t&&_defineProperties$a(e.prototype,t),r&&_defineProperties$a(e,r),e}var Buffer$3=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,Binary=function(){function e(t,r){if(_classCallCheck$a(this,e),!(null==t||"string"==typeof t||Buffer$3.isBuffer(t)||t instanceof Uint8Array||Array.isArray(t)))throw new TypeError("only String, Buffer, Uint8Array or Array accepted");if(this.sub_type=null==r?BSON_BINARY_SUBTYPE_DEFAULT:r,this.position=0,null==t||t instanceof Number)void 0!==Buffer$3?this.buffer=Buffer$3.alloc(e.BUFFER_SIZE):"undefined"!=typeof Uint8Array?this.buffer=new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE)):this.buffer=new Array(e.BUFFER_SIZE);else{if("string"==typeof t)if(void 0!==Buffer$3)this.buffer=Buffer$3.from(t);else{if("undefined"==typeof Uint8Array&&!Array.isArray(t))throw new TypeError("only String, Buffer, Uint8Array or Array accepted");this.buffer=writeStringToArray(t)}else this.buffer=t;this.position=t.length}}return _createClass$a(e,[{key:"put",value:function(t){if(null!=t.length&&"number"!=typeof t&&1!==t.length)throw new TypeError("only accepts single character String, Uint8Array or Array");if("number"!=typeof t&&t<0||t>255)throw new TypeError("only accepts number in a valid unsigned byte range 0-255");var r=null;if(r="string"==typeof t?t.charCodeAt(0):null!=t.length?t[0]:t,this.buffer.length>this.position)this.buffer[this.position++]=r;else if(void 0!==Buffer$3&&Buffer$3.isBuffer(this.buffer)){var n=Buffer$3.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n,this.buffer[this.position++]=r}else{var i=null;i=isUint8Array(this.buffer)?new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE+this.buffer.length)):new Array(e.BUFFER_SIZE+this.buffer.length);for(var o=0;o<this.buffer.length;o++)i[o]=this.buffer[o];this.buffer=i,this.buffer[this.position++]=r}}},{key:"write",value:function(e,t){if(t="number"==typeof t?t:this.position,this.buffer.length<t+e.length){var r=null;if(void 0!==Buffer$3&&Buffer$3.isBuffer(this.buffer))r=Buffer$3.alloc(this.buffer.length+e.length),this.buffer.copy(r,0,0,this.buffer.length);else if(isUint8Array(this.buffer)){r=new Uint8Array(new ArrayBuffer(this.buffer.length+e.length));for(var n=0;n<this.position;n++)r[n]=this.buffer[n]}this.buffer=r}if(void 0!==Buffer$3&&Buffer$3.isBuffer(e)&&Buffer$3.isBuffer(this.buffer))e.copy(this.buffer,t,0,e.length),this.position=t+e.length>this.position?t+e.length:this.position;else if(void 0!==Buffer$3&&"string"==typeof e&&Buffer$3.isBuffer(this.buffer))this.buffer.write(e,t,"binary"),this.position=t+e.length>this.position?t+e.length:this.position;else if(isUint8Array(e)||Array.isArray(e)&&"string"!=typeof e){for(var i=0;i<e.length;i++)this.buffer[t++]=e[i];this.position=t>this.position?t:this.position}else if("string"==typeof e){for(var o=0;o<e.length;o++)this.buffer[t++]=e.charCodeAt(o);this.position=t>this.position?t:this.position}}},{key:"read",value:function(e,t){if(t=t&&t>0?t:this.position,this.buffer.slice)return this.buffer.slice(e,e+t);for(var r="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(t)):new Array(t),n=0;n<t;n++)r[n]=this.buffer[e++];return r}},{key:"value",value:function(e){if((e=null!=e&&e)&&void 0!==Buffer$3&&Buffer$3.isBuffer(this.buffer)&&this.buffer.length===this.position)return this.buffer;if(void 0!==Buffer$3&&Buffer$3.isBuffer(this.buffer))return e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position);if(e){if(null!=this.buffer.slice)return this.buffer.slice(0,this.position);for(var t=isUint8Array(this.buffer)?new Uint8Array(new ArrayBuffer(this.position)):new Array(this.position),r=0;r<this.position;r++)t[r]=this.buffer[r];return t}return convertArraytoUtf8BinaryString(this.buffer,0,this.position)}},{key:"length",value:function(){return this.position}},{key:"toJSON",value:function(){return null!=this.buffer?this.buffer.toString("base64"):""}},{key:"toString",value:function(e){return null!=this.buffer?this.buffer.slice(0,this.position).toString(e):""}},{key:"toExtendedJSON",value:function(){var e=Buffer$3.isBuffer(this.buffer)?this.buffer.toString("base64"):Buffer$3.from(this.buffer).toString("base64"),t=Number(this.sub_type).toString(16);return{$binary:{base64:e,subType:1===t.length?"0"+t:t}}}}],[{key:"fromExtendedJSON",value:function(t){var r=t.$binary.subType?parseInt(t.$binary.subType,16):0;return new e(Buffer$3.from(t.$binary.base64,"base64"),r)}}]),e}(),BSON_BINARY_SUBTYPE_DEFAULT=0;function isUint8Array(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)}function writeStringToArray(e){for(var t="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(e.length)):new Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function convertArraytoUtf8BinaryString(e,t,r){for(var n="",i=t;i<r;i++)n+=String.fromCharCode(e[i]);return n}Binary.BUFFER_SIZE=256,Binary.SUBTYPE_DEFAULT=0,Binary.SUBTYPE_FUNCTION=1,Binary.SUBTYPE_BYTE_ARRAY=2,Binary.SUBTYPE_UUID_OLD=3,Binary.SUBTYPE_UUID=4,Binary.SUBTYPE_MD5=5,Binary.SUBTYPE_USER_DEFINED=128,Object.defineProperty(Binary.prototype,"_bsontype",{value:"Binary"});var binary=Binary,constants={BSON_INT32_MAX:2147483647,BSON_INT32_MIN:-2147483648,BSON_INT64_MAX:Math.pow(2,63)-1,BSON_INT64_MIN:-Math.pow(2,63),JS_INT_MAX:9007199254740992,JS_INT_MIN:-9007199254740992,BSON_DATA_NUMBER:1,BSON_DATA_STRING:2,BSON_DATA_OBJECT:3,BSON_DATA_ARRAY:4,BSON_DATA_BINARY:5,BSON_DATA_UNDEFINED:6,BSON_DATA_OID:7,BSON_DATA_BOOLEAN:8,BSON_DATA_DATE:9,BSON_DATA_NULL:10,BSON_DATA_REGEXP:11,BSON_DATA_DBPOINTER:12,BSON_DATA_CODE:13,BSON_DATA_SYMBOL:14,BSON_DATA_CODE_W_SCOPE:15,BSON_DATA_INT:16,BSON_DATA_TIMESTAMP:17,BSON_DATA_LONG:18,BSON_DATA_DECIMAL128:19,BSON_DATA_MIN_KEY:255,BSON_DATA_MAX_KEY:127,BSON_BINARY_SUBTYPE_DEFAULT:0,BSON_BINARY_SUBTYPE_FUNCTION:1,BSON_BINARY_SUBTYPE_BYTE_ARRAY:2,BSON_BINARY_SUBTYPE_UUID:3,BSON_BINARY_SUBTYPE_MD5:4,BSON_BINARY_SUBTYPE_USER_DEFINED:128};function _typeof$2(e){return(_typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var keysToCodecs={$oid:objectid,$binary:binary,$symbol:symbol,$numberInt:int_32,$numberDecimal:decimal128,$numberDouble:double_1,$numberLong:long_1,$minKey:min_key,$maxKey:max_key,$regularExpression:regexp,$timestamp:timestamp};function deserializeValue(e,t,r,n){if("number"==typeof r){if(n.relaxed)return r;if(Math.floor(r)===r){if(r>=BSON_INT32_MIN&&r<=BSON_INT32_MAX)return new int_32(r);if(r>=BSON_INT64_MIN&&r<=BSON_INT64_MAX)return new long_1.fromNumber(r)}return new double_1(r)}if(null==r||"object"!==_typeof$2(r))return r;if(r.$undefined)return null;for(var i=Object.keys(r).filter(function(e){return e.startsWith("$")&&null!=r[e]}),o=0;o<i.length;o++){var s=keysToCodecs[i[o]];if(s)return s.fromExtendedJSON(r,n)}if(null!=r.$date){var a=r.$date,u=new Date;return"string"==typeof a?u.setTime(Date.parse(a)):long_1.isLong(a)?u.setTime(a.toNumber()):"number"==typeof a&&n.relaxed&&u.setTime(a),u}if(null!=r.$code){var c=Object.assign({},r);return r.$scope&&(c.$scope=deserializeValue(e,null,r.$scope)),code.fromExtendedJSON(r)}if(null!=r.$ref||null!=r.$dbPointer){var f=r.$ref?r:r.$dbPointer;if(f instanceof db_ref)return f;var l=Object.keys(f).filter(function(e){return e.startsWith("$")}),p=!0;if(l.forEach(function(e){-1===["$ref","$id","$db"].indexOf(e)&&(p=!1)}),p)return db_ref.fromExtendedJSON(f)}return r}function parse(e,t){var r=this;return"boolean"==typeof(t=Object.assign({},{relaxed:!0},t)).relaxed&&(t.strict=!t.relaxed),"boolean"==typeof t.strict&&(t.relaxed=!t.strict),JSON.parse(e,function(e,n){return deserializeValue(r,e,n,t)})}var BSON_INT32_MAX=2147483647,BSON_INT32_MIN=-2147483648,BSON_INT64_MAX=0x8000000000000000,BSON_INT64_MIN=-0x8000000000000000;function stringify(e,t,r,n){null!=r&&"object"===_typeof$2(r)&&(n=r,r=0),null==t||"object"!==_typeof$2(t)||Array.isArray(t)||(n=t,t=null,r=0),n=Object.assign({},{relaxed:!0},n);var i=Array.isArray(e)?serializeArray(e,n):serializeDocument(e,n);return JSON.stringify(i,t,r)}function serialize(e,t){return t=t||{},JSON.parse(stringify(e,t))}function deserialize(e,t){return t=t||{},parse(JSON.stringify(e),t)}function serializeArray(e,t){return e.map(function(e){return serializeValue(e,t)})}function getISOString(e){var t=e.toISOString();return 0!==e.getUTCMilliseconds()?t:t.slice(0,-5)+"Z"}function serializeValue(e,t){if(Array.isArray(e))return serializeArray(e,t);if(void 0===e)return null;if(e instanceof Date){var r=e.getTime(),n=r>-1&&r<2534023188e5;return t.relaxed&&n?{$date:getISOString(e)}:{$date:{$numberLong:e.getTime().toString()}}}if("number"==typeof e&&!t.relaxed){if(Math.floor(e)===e){var i=e>=BSON_INT64_MIN&&e<=BSON_INT64_MAX;if(e>=BSON_INT32_MIN&&e<=BSON_INT32_MAX)return{$numberInt:e.toString()};if(i)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp){var o=e.flags;return void 0===o&&(o=e.toString().match(/[gimuy]*$/)[0]),new regexp(e.source,o).toExtendedJSON()}return null!=e&&"object"===_typeof$2(e)?serializeDocument(e,t):e}var BSON_TYPE_MAPPINGS={Binary:function(e){return new binary(e.value(),e.subtype)},Code:function(e){return new code(e.code,e.scope)},DBRef:function(e){return new db_ref(e.collection||e.namespace,e.oid,e.db,e.fields)},Decimal128:function(e){return new decimal128(e.bytes)},Double:function(e){return new double_1(e.value)},Int32:function(e){return new int_32(e.value)},Long:function(e){return long_1.fromBits(null!=e.low?e.low:e.low_,null!=e.low?e.high:e.high_,null!=e.low?e.unsigned:e.unsigned_)},MaxKey:function(){return new max_key},MinKey:function(){return new min_key},ObjectID:function(e){return new objectid(e)},ObjectId:function(e){return new objectid(e)},BSONRegExp:function(e){return new regexp(e.pattern,e.options)},Symbol:function(e){return new symbol(e.value)},Timestamp:function(e){return timestamp.fromBits(e.low,e.high)}};function serializeDocument(e,t){if(null==e||"object"!==_typeof$2(e))throw new Error("not an object instance");var r=e._bsontype;if(void 0===r){var n={};for(var i in e)n[i]=serializeValue(e[i],t);return n}if("string"==typeof r){var o=e;if("function"!=typeof o.toExtendedJSON){var s=BSON_TYPE_MAPPINGS[r];if(!s)throw new TypeError("Unrecognized or invalid _bsontype: "+r);o=s(o)}return"Code"===r&&o.scope?o=new code(o.code,serializeValue(o.scope,t)):"DBRef"===r&&o.oid&&(o=new db_ref(o.collection,serializeValue(o.oid,t),o.db,o.fields)),o.toExtendedJSON(t)}throw new Error("_bsontype must be a string, but was: "+_typeof$2(r))}var extended_json={parse:parse,deserialize:deserialize,serialize:serialize,stringify:stringify},FIRST_BIT=128,FIRST_TWO_BITS=192,FIRST_THREE_BITS=224,FIRST_FOUR_BITS=240,FIRST_FIVE_BITS=248,TWO_BIT_CHAR=192,THREE_BIT_CHAR=224,FOUR_BIT_CHAR=240,CONTINUING_CHAR=128;function validateUtf8(e,t,r){for(var n=0,i=t;i<r;i+=1){var o=e[i];if(n){if((o&FIRST_TWO_BITS)!==CONTINUING_CHAR)return!1;n-=1}else if(o&FIRST_BIT)if((o&FIRST_THREE_BITS)===TWO_BIT_CHAR)n=1;else if((o&FIRST_FOUR_BITS)===THREE_BIT_CHAR)n=2;else{if((o&FIRST_FIVE_BITS)!==FOUR_BIT_CHAR)return!1;n=3}}return!n}var validateUtf8_1=validateUtf8,validate_utf8={validateUtf8:validateUtf8_1},Buffer$4=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,validateUtf8$1=validate_utf8.validateUtf8,JS_INT_MAX_LONG=long_1.fromNumber(constants.JS_INT_MAX),JS_INT_MIN_LONG=long_1.fromNumber(constants.JS_INT_MIN),functionCache={};function deserialize$1(e,t,r){var n=(t=null==t?{}:t)&&t.index?t.index:0,i=e[n]|e[n+1]<<8|e[n+2]<<16|e[n+3]<<24;if(i<5)throw new Error("bson size must be >= 5, is ".concat(i));if(t.allowObjectSmallerThanBufferSize&&e.length<i)throw new Error("buffer length ".concat(e.length," must be >= bson size ").concat(i));if(!t.allowObjectSmallerThanBufferSize&&e.length!==i)throw new Error("buffer length ".concat(e.length," must === bson size ").concat(i));if(i+n>e.length)throw new Error("(bson size ".concat(i," + options.index ").concat(n," must be <= buffer length ").concat(Buffer$4.byteLength(e),")"));if(0!==e[n+i-1])throw new Error("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return deserializeObject(e,n,t,r)}function deserializeObject(e,t,r,n){var i=null!=r.evalFunctions&&r.evalFunctions,o=null!=r.cacheFunctions&&r.cacheFunctions,s=null!=r.cacheFunctionsCrc32&&r.cacheFunctionsCrc32;if(!s)var a=null;var u=null==r.fieldsAsRaw?null:r.fieldsAsRaw,c=null!=r.raw&&r.raw,f="boolean"==typeof r.bsonRegExp&&r.bsonRegExp,l=null!=r.promoteBuffers&&r.promoteBuffers,p=null==r.promoteLongs||r.promoteLongs,h=null==r.promoteValues||r.promoteValues,_=t;if(e.length<5)throw new Error("corrupt bson message < 5 bytes long");var d=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(d<5||d>e.length)throw new Error("corrupt bson message");for(var y=n?[]:{},g=0;;){var b=e[t++];if(0===b)break;for(var m=t;0!==e[m]&&m<e.length;)m++;if(m>=Buffer$4.byteLength(e))throw new Error("Bad BSON Document: illegal CString");var v=n?g++:e.toString("utf8",t,m);if(t=m+1,b===constants.BSON_DATA_STRING){var E=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(E<=0||E>e.length-t||0!==e[t+E-1])throw new Error("bad string length in bson");if(!validateUtf8$1(e,t,t+E-1))throw new Error("Invalid UTF-8 string in BSON document");var w=e.toString("utf8",t,t+E-1);y[v]=w,t+=E}else if(b===constants.BSON_DATA_OID){var O=Buffer$4.alloc(12);e.copy(O,0,t,t+12),y[v]=new objectid(O),t+=12}else if(b===constants.BSON_DATA_INT&&!1===h)y[v]=new int_32(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24);else if(b===constants.BSON_DATA_INT)y[v]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;else if(b===constants.BSON_DATA_NUMBER&&!1===h)y[v]=new double_1(e.readDoubleLE(t)),t+=8;else if(b===constants.BSON_DATA_NUMBER)y[v]=e.readDoubleLE(t),t+=8;else if(b===constants.BSON_DATA_DATE){var S=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,T=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;y[v]=new Date(new long_1(S,T).toNumber())}else if(b===constants.BSON_DATA_BOOLEAN){if(0!==e[t]&&1!==e[t])throw new Error("illegal boolean type value");y[v]=1===e[t++]}else if(b===constants.BSON_DATA_OBJECT){var N=t,A=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;if(A<=0||A>e.length-t)throw new Error("bad embedded document length in bson");y[v]=c?e.slice(t,t+A):deserializeObject(e,N,r,!1),t+=A}else if(b===constants.BSON_DATA_ARRAY){var B=t,I=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,D=r,R=t+I;if(u&&u[v]){for(var P in D={},r)D[P]=r[P];D.raw=!0}if(y[v]=deserializeObject(e,B,D,!0),0!==e[(t+=I)-1])throw new Error("invalid array terminator byte");if(t!==R)throw new Error("corrupted array bson")}else if(b===constants.BSON_DATA_UNDEFINED)y[v]=void 0;else if(b===constants.BSON_DATA_NULL)y[v]=null;else if(b===constants.BSON_DATA_LONG){var M=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,x=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,C=new long_1(M,x);y[v]=p&&!0===h&&C.lessThanOrEqual(JS_INT_MAX_LONG)&&C.greaterThanOrEqual(JS_INT_MIN_LONG)?C.toNumber():C}else if(b===constants.BSON_DATA_DECIMAL128){var L=Buffer$4.alloc(16);e.copy(L,0,t,t+16),t+=16;var j=new decimal128(L);y[v]=j.toObject?j.toObject():j}else if(b===constants.BSON_DATA_BINARY){var U=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,k=U,$=e[t++];if(U<0)throw new Error("Negative binary type element size found");if(U>Buffer$4.byteLength(e))throw new Error("Binary type size larger than document size");if(null!=e.slice){if($===binary.SUBTYPE_BYTE_ARRAY){if((U=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(U>k-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(U<k-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}y[v]=l&&h?e.slice(t,t+U):new binary(e.slice(t,t+U),$)}else{var z="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(U)):new Array(U);if($===binary.SUBTYPE_BYTE_ARRAY){if((U=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(U>k-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(U<k-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}for(m=0;m<U;m++)z[m]=e[t+m];y[v]=l&&h?z:new binary(z,$)}t+=U}else if(b===constants.BSON_DATA_REGEXP&&!1===f){for(m=t;0!==e[m]&&m<e.length;)m++;if(m>=e.length)throw new Error("Bad BSON Document: illegal CString");var F=e.toString("utf8",t,m);for(m=t=m+1;0!==e[m]&&m<e.length;)m++;if(m>=e.length)throw new Error("Bad BSON Document: illegal CString");var Y=e.toString("utf8",t,m);t=m+1;var q=new Array(Y.length);for(m=0;m<Y.length;m++)switch(Y[m]){case"m":q[m]="m";break;case"s":q[m]="g";break;case"i":q[m]="i"}y[v]=new RegExp(F,q.join(""))}else if(b===constants.BSON_DATA_REGEXP&&!0===f){for(m=t;0!==e[m]&&m<e.length;)m++;if(m>=e.length)throw new Error("Bad BSON Document: illegal CString");var G=e.toString("utf8",t,m);for(m=t=m+1;0!==e[m]&&m<e.length;)m++;if(m>=e.length)throw new Error("Bad BSON Document: illegal CString");var K=e.toString("utf8",t,m);t=m+1,y[v]=new regexp(G,K)}else if(b===constants.BSON_DATA_SYMBOL){var J=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(J<=0||J>e.length-t||0!==e[t+J-1])throw new Error("bad string length in bson");y[v]=e.toString("utf8",t,t+J-1),t+=J}else if(b===constants.BSON_DATA_TIMESTAMP){var H=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,Q=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;y[v]=new timestamp(H,Q)}else if(b===constants.BSON_DATA_MIN_KEY)y[v]=new min_key;else if(b===constants.BSON_DATA_MAX_KEY)y[v]=new max_key;else if(b===constants.BSON_DATA_CODE){var W=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(W<=0||W>e.length-t||0!==e[t+W-1])throw new Error("bad string length in bson");var X=e.toString("utf8",t,t+W-1);if(i)if(o){var V=s?a(X):X;y[v]=isolateEvalWithHash(functionCache,V,X,y)}else y[v]=isolateEval(X);else y[v]=new code(X);t+=W}else if(b===constants.BSON_DATA_CODE_W_SCOPE){var Z=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(Z<13)throw new Error("code_w_scope total size shorter minimum expected length");var ee=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(ee<=0||ee>e.length-t||0!==e[t+ee-1])throw new Error("bad string length in bson");var te=e.toString("utf8",t,t+ee-1),re=t+=ee,ne=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,ie=deserializeObject(e,re,r,!1);if(t+=ne,Z<8+ne+ee)throw new Error("code_w_scope total size is to short, truncating scope");if(Z>8+ne+ee)throw new Error("code_w_scope total size is to long, clips outer document");if(i){if(o){var oe=s?a(te):te;y[v]=isolateEvalWithHash(functionCache,oe,te,y)}else y[v]=isolateEval(te);y[v].scope=ie}else y[v]=new code(te,ie)}else{if(b!==constants.BSON_DATA_DBPOINTER)throw new Error("Detected unknown BSON type "+b.toString(16)+' for fieldname "'+v+'", are you using the latest BSON parser?');var se=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(se<=0||se>e.length-t||0!==e[t+se-1])throw new Error("bad string length in bson");if(!validateUtf8$1(e,t,t+se-1))throw new Error("Invalid UTF-8 string in BSON document");var ae=e.toString("utf8",t,t+se-1);t+=se;var ue=Buffer$4.alloc(12);e.copy(ue,0,t,t+12);var ce=new objectid(ue);t+=12,y[v]=new db_ref(ae,ce)}}if(d!==t-_){if(n)throw new Error("corrupt array bson");throw new Error("corrupt object bson")}var fe=Object.keys(y).filter(function(e){return e.startsWith("$")}),le=!0;if(fe.forEach(function(e){-1===["$ref","$id","$db"].indexOf(e)&&(le=!1)}),!le)return y;if(null!=y.$id&&null!=y.$ref){var pe=Object.assign({},y);return delete pe.$ref,delete pe.$id,delete pe.$db,new db_ref(y.$ref,y.$id,y.$db||null,pe)}return y}function isolateEvalWithHash(functionCache,hash,functionString,object){var value=null;return null==functionCache[hash]&&(eval("value = "+functionString),functionCache[hash]=value),functionCache[hash].bind(object)}function isolateEval(functionString){var value=null;return eval("value = "+functionString),value}var deserializer=deserialize$1;function readIEEE754(e,t,r,n,i){var o,s,a="big"===r,u=8*i-n-1,c=(1<<u)-1,f=c>>1,l=-7,p=a?0:i-1,h=a?1:-1,_=e[t+p];for(p+=h,o=_&(1<<-l)-1,_>>=-l,l+=u;l>0;o=256*o+e[t+p],p+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+p],p+=h,l-=8);if(0===o)o=1-f;else{if(o===c)return s?NaN:1/0*(_?-1:1);s+=Math.pow(2,n),o-=f}return(_?-1:1)*s*Math.pow(2,o-n)}function writeIEEE754(e,t,r,n,i,o){var s,a,u,c="big"===n,f=8*o-i-1,l=(1<<f)-1,p=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,_=c?o-1:0,d=c?-1:1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+p>=1?h/u:h*Math.pow(2,1-p))*u>=2&&(s++,u/=2),s+p>=l?(a=0,s=l):s+p>=1?(a=(t*u-1)*Math.pow(2,i),s+=p):(a=t*Math.pow(2,p-1)*Math.pow(2,i),s=0)),isNaN(t)&&(a=0);i>=8;)e[r+_]=255&a,_+=d,a/=256,i-=8;for(s=s<<i|a,isNaN(t)&&(s+=8),f+=i;f>0;)e[r+_]=255&s,_+=d,s/=256,f-=8;e[r+_-d]|=128*y}var float_parser={readIEEE754:readIEEE754,writeIEEE754:writeIEEE754};function _typeof$3(e){return(_typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Buffer$5=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,writeIEEE754$1=float_parser.writeIEEE754,normalizedFunctionString$1=utils.normalizedFunctionString,regexp$1=/\x00/,ignoreKeys=new Set(["$db","$ref","$id","$clusterTime"]),isDate$1=function(e){return"object"===_typeof$3(e)&&"[object Date]"===Object.prototype.toString.call(e)},isRegExp$1=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)};function serializeString(e,t,r,n,i){e[n++]=constants.BSON_DATA_STRING;var o=i?e.write(t,n,"ascii"):e.write(t,n,"utf8");e[(n=n+o+1)-1]=0;var s=e.write(r,n+4,"utf8");return e[n+3]=s+1>>24&255,e[n+2]=s+1>>16&255,e[n+1]=s+1>>8&255,e[n]=s+1&255,n=n+4+s,e[n++]=0,n}function serializeNumber(e,t,r,n,i){if(Math.floor(r)===r&&r>=constants.JS_INT_MIN&&r<=constants.JS_INT_MAX)if(r>=constants.BSON_INT32_MIN&&r<=constants.BSON_INT32_MAX)e[n++]=constants.BSON_DATA_INT,n+=i?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0,e[n++]=255&r,e[n++]=r>>8&255,e[n++]=r>>16&255,e[n++]=r>>24&255;else if(r>=constants.JS_INT_MIN&&r<=constants.JS_INT_MAX){e[n++]=constants.BSON_DATA_NUMBER,n+=i?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0,writeIEEE754$1(e,r,n,"little",52,8),n+=8}else{e[n++]=constants.BSON_DATA_LONG,n+=i?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0;var o=long_1.fromNumber(r),s=o.getLowBits(),a=o.getHighBits();e[n++]=255&s,e[n++]=s>>8&255,e[n++]=s>>16&255,e[n++]=s>>24&255,e[n++]=255&a,e[n++]=a>>8&255,e[n++]=a>>16&255,e[n++]=a>>24&255}else e[n++]=constants.BSON_DATA_NUMBER,n+=i?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0,writeIEEE754$1(e,r,n,"little",52,8),n+=8;return n}function serializeNull(e,t,r,n,i){return e[n++]=constants.BSON_DATA_NULL,n+=i?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0,n}function serializeBoolean(e,t,r,n,i){return e[n++]=constants.BSON_DATA_BOOLEAN,n+=i?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0,e[n++]=r?1:0,n}function serializeDate(e,t,r,n,i){e[n++]=constants.BSON_DATA_DATE,n+=i?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0;var o=long_1.fromNumber(r.getTime()),s=o.getLowBits(),a=o.getHighBits();return e[n++]=255&s,e[n++]=s>>8&255,e[n++]=s>>16&255,e[n++]=s>>24&255,e[n++]=255&a,e[n++]=a>>8&255,e[n++]=a>>16&255,e[n++]=a>>24&255,n}function serializeRegExp(e,t,r,n,i){if(e[n++]=constants.BSON_DATA_REGEXP,n+=i?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0,r.source&&null!=r.source.match(regexp$1))throw Error("value "+r.source+" must not contain null bytes");return n+=e.write(r.source,n,"utf8"),e[n++]=0,r.ignoreCase&&(e[n++]=105),r.global&&(e[n++]=115),r.multiline&&(e[n++]=109),e[n++]=0,n}function serializeBSONRegExp(e,t,r,n,i){if(e[n++]=constants.BSON_DATA_REGEXP,n+=i?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0,null!=r.pattern.match(regexp$1))throw Error("pattern "+r.pattern+" must not contain null bytes");return n+=e.write(r.pattern,n,"utf8"),e[n++]=0,n+=e.write(r.options.split("").sort().join(""),n,"utf8"),e[n++]=0,n}function serializeMinMax(e,t,r,n,i){return null===r?e[n++]=constants.BSON_DATA_NULL:"MinKey"===r._bsontype?e[n++]=constants.BSON_DATA_MIN_KEY:e[n++]=constants.BSON_DATA_MAX_KEY,n+=i?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0,n}function serializeObjectId(e,t,r,n,i){if(e[n++]=constants.BSON_DATA_OID,n+=i?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0,"string"==typeof r.id)e.write(r.id,n,"binary");else{if(!r.id||!r.id.copy)throw new TypeError("object ["+JSON.stringify(r)+"] is not a valid ObjectId");r.id.copy(e,n,0,12)}return n+12}function serializeBuffer(e,t,r,n,i){e[n++]=constants.BSON_DATA_BINARY,n+=i?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0;var o=r.length;return e[n++]=255&o,e[n++]=o>>8&255,e[n++]=o>>16&255,e[n++]=o>>24&255,e[n++]=constants.BSON_BINARY_SUBTYPE_DEFAULT,r.copy(e,n,0,o),n+=o}function serializeObject(e,t,r,n,i,o,s,a,u,c){for(var f=0;f<c.length;f++)if(c[f]===r)throw new Error("cyclic dependency detected");c.push(r),e[n++]=Array.isArray(r)?constants.BSON_DATA_ARRAY:constants.BSON_DATA_OBJECT,n+=u?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0;var l=serializeInto(e,r,i,n,o+1,s,a,c);return c.pop(),l}function serializeDecimal128(e,t,r,n,i){return e[n++]=constants.BSON_DATA_DECIMAL128,n+=i?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0,r.bytes.copy(e,n,0,16),n+16}function serializeLong(e,t,r,n,i){e[n++]="Long"===r._bsontype?constants.BSON_DATA_LONG:constants.BSON_DATA_TIMESTAMP,n+=i?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0;var o=r.getLowBits(),s=r.getHighBits();return e[n++]=255&o,e[n++]=o>>8&255,e[n++]=o>>16&255,e[n++]=o>>24&255,e[n++]=255&s,e[n++]=s>>8&255,e[n++]=s>>16&255,e[n++]=s>>24&255,n}function serializeInt32(e,t,r,n,i){return e[n++]=constants.BSON_DATA_INT,n+=i?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0,e[n++]=255&r,e[n++]=r>>8&255,e[n++]=r>>16&255,e[n++]=r>>24&255,n}function serializeDouble(e,t,r,n,i){return e[n++]=constants.BSON_DATA_NUMBER,n+=i?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0,writeIEEE754$1(e,r.value,n,"little",52,8),n+=8}function serializeFunction(e,t,r,n,i,o,s){e[n++]=constants.BSON_DATA_CODE,n+=s?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0;var a=normalizedFunctionString$1(r),u=e.write(a,n+4,"utf8")+1;return e[n]=255&u,e[n+1]=u>>8&255,e[n+2]=u>>16&255,e[n+3]=u>>24&255,n=n+4+u-1,e[n++]=0,n}function serializeCode(e,t,r,n,i,o,s,a,u){if(r.scope&&"object"===_typeof$3(r.scope)){e[n++]=constants.BSON_DATA_CODE_W_SCOPE,n+=u?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0;var c=n,f="string"==typeof r.code?r.code:r.code.toString();n+=4;var l=e.write(f,n+4,"utf8")+1;e[n]=255&l,e[n+1]=l>>8&255,e[n+2]=l>>16&255,e[n+3]=l>>24&255,e[n+4+l-1]=0,n=n+l+4;var p=serializeInto(e,r.scope,i,n,o+1,s,a);n=p-1;var h=p-c;e[c++]=255&h,e[c++]=h>>8&255,e[c++]=h>>16&255,e[c++]=h>>24&255,e[n++]=0}else{e[n++]=constants.BSON_DATA_CODE,n+=u?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0;var _=r.code.toString(),d=e.write(_,n+4,"utf8")+1;e[n]=255&d,e[n+1]=d>>8&255,e[n+2]=d>>16&255,e[n+3]=d>>24&255,n=n+4+d-1,e[n++]=0}return n}function serializeBinary(e,t,r,n,i){e[n++]=constants.BSON_DATA_BINARY,n+=i?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0;var o=r.value(!0),s=r.position;return r.sub_type===binary.SUBTYPE_BYTE_ARRAY&&(s+=4),e[n++]=255&s,e[n++]=s>>8&255,e[n++]=s>>16&255,e[n++]=s>>24&255,e[n++]=r.sub_type,r.sub_type===binary.SUBTYPE_BYTE_ARRAY&&(s-=4,e[n++]=255&s,e[n++]=s>>8&255,e[n++]=s>>16&255,e[n++]=s>>24&255),o.copy(e,n,0,r.position),n+=r.position}function serializeSymbol(e,t,r,n,i){e[n++]=constants.BSON_DATA_SYMBOL,n+=i?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0;var o=e.write(r.value,n+4,"utf8")+1;return e[n]=255&o,e[n+1]=o>>8&255,e[n+2]=o>>16&255,e[n+3]=o>>24&255,n=n+4+o-1,e[n++]=0,n}function serializeDBRef(e,t,r,n,i,o,s){e[n++]=constants.BSON_DATA_OBJECT,n+=s?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0;var a,u=n,c={$ref:r.collection||r.namespace,$id:r.oid};null!=r.db&&(c.$db=r.db);var f=(a=serializeInto(e,c=Object.assign(c,r.fields),!1,n,i+1,o))-u;return e[u++]=255&f,e[u++]=f>>8&255,e[u++]=f>>16&255,e[u++]=f>>24&255,a}function serializeInto(e,t,r,n,i,o,s,a){n=n||0,(a=a||[]).push(t);var u=n+4;if(Array.isArray(t))for(var c=0;c<t.length;c++){var f=""+c,l=t[c];if(l&&l.toBSON){if("function"!=typeof l.toBSON)throw new TypeError("toBSON is not a function");l=l.toBSON()}var p=_typeof$3(l);if("string"===p)u=serializeString(e,f,l,u,!0);else if("number"===p)u=serializeNumber(e,f,l,u,!0);else if("boolean"===p)u=serializeBoolean(e,f,l,u,!0);else if(l instanceof Date||isDate$1(l))u=serializeDate(e,f,l,u,!0);else if(void 0===l)u=serializeNull(e,f,l,u,!0);else if(null===l)u=serializeNull(e,f,l,u,!0);else if("ObjectId"===l._bsontype||"ObjectID"===l._bsontype)u=serializeObjectId(e,f,l,u,!0);else if(Buffer$5.isBuffer(l))u=serializeBuffer(e,f,l,u,!0);else if(l instanceof RegExp||isRegExp$1(l))u=serializeRegExp(e,f,l,u,!0);else if("object"===p&&null==l._bsontype)u=serializeObject(e,f,l,u,r,i,o,s,!0,a);else if("object"===p&&"Decimal128"===l._bsontype)u=serializeDecimal128(e,f,l,u,!0);else if("Long"===l._bsontype||"Timestamp"===l._bsontype)u=serializeLong(e,f,l,u,!0);else if("Double"===l._bsontype)u=serializeDouble(e,f,l,u,!0);else if("function"==typeof l&&o)u=serializeFunction(e,f,l,u,r,i,o,!0);else if("Code"===l._bsontype)u=serializeCode(e,f,l,u,r,i,o,s,!0);else if("Binary"===l._bsontype)u=serializeBinary(e,f,l,u,!0);else if("Symbol"===l._bsontype)u=serializeSymbol(e,f,l,u,!0);else if("DBRef"===l._bsontype)u=serializeDBRef(e,f,l,u,i,o,!0);else if("BSONRegExp"===l._bsontype)u=serializeBSONRegExp(e,f,l,u,!0);else if("Int32"===l._bsontype)u=serializeInt32(e,f,l,u,!0);else if("MinKey"===l._bsontype||"MaxKey"===l._bsontype)u=serializeMinMax(e,f,l,u,!0);else if(void 0!==l._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+l._bsontype)}else if(t instanceof map)for(var h=t.entries(),_=!1;!_;){var d=h.next();if(!(_=d.done)){var y=d.value[0],g=d.value[1],b=_typeof$3(g);if("string"==typeof y&&!ignoreKeys.has(y)){if(null!=y.match(regexp$1))throw Error("key "+y+" must not contain null bytes");if(r){if("$"===y[0])throw Error("key "+y+" must not start with '$'");if(~y.indexOf("."))throw Error("key "+y+" must not contain '.'")}}if("string"===b)u=serializeString(e,y,g,u);else if("number"===b)u=serializeNumber(e,y,g,u);else if("boolean"===b)u=serializeBoolean(e,y,g,u);else if(g instanceof Date||isDate$1(g))u=serializeDate(e,y,g,u);else if(null===g||void 0===g&&!1===s)u=serializeNull(e,y,g,u);else if("ObjectId"===g._bsontype||"ObjectID"===g._bsontype)u=serializeObjectId(e,y,g,u);else if(Buffer$5.isBuffer(g))u=serializeBuffer(e,y,g,u);else if(g instanceof RegExp||isRegExp$1(g))u=serializeRegExp(e,y,g,u);else if("object"===b&&null==g._bsontype)u=serializeObject(e,y,g,u,r,i,o,s,!1,a);else if("object"===b&&"Decimal128"===g._bsontype)u=serializeDecimal128(e,y,g,u);else if("Long"===g._bsontype||"Timestamp"===g._bsontype)u=serializeLong(e,y,g,u);else if("Double"===g._bsontype)u=serializeDouble(e,y,g,u);else if("Code"===g._bsontype)u=serializeCode(e,y,g,u,r,i,o,s);else if("function"==typeof g&&o)u=serializeFunction(e,y,g,u,r,i,o);else if("Binary"===g._bsontype)u=serializeBinary(e,y,g,u);else if("Symbol"===g._bsontype)u=serializeSymbol(e,y,g,u);else if("DBRef"===g._bsontype)u=serializeDBRef(e,y,g,u,i,o);else if("BSONRegExp"===g._bsontype)u=serializeBSONRegExp(e,y,g,u);else if("Int32"===g._bsontype)u=serializeInt32(e,y,g,u);else if("MinKey"===g._bsontype||"MaxKey"===g._bsontype)u=serializeMinMax(e,y,g,u);else if(void 0!==g._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+g._bsontype)}}else{if(t.toBSON){if("function"!=typeof t.toBSON)throw new TypeError("toBSON is not a function");if(null!=(t=t.toBSON())&&"object"!==_typeof$3(t))throw new TypeError("toBSON function did not return an object")}for(var m in t){var v=t[m];if(v&&v.toBSON){if("function"!=typeof v.toBSON)throw new TypeError("toBSON is not a function");v=v.toBSON()}var E=_typeof$3(v);if("string"==typeof m&&!ignoreKeys.has(m)){if(null!=m.match(regexp$1))throw Error("key "+m+" must not contain null bytes");if(r){if("$"===m[0])throw Error("key "+m+" must not start with '$'");if(~m.indexOf("."))throw Error("key "+m+" must not contain '.'")}}if("string"===E)u=serializeString(e,m,v,u);else if("number"===E)u=serializeNumber(e,m,v,u);else if("boolean"===E)u=serializeBoolean(e,m,v,u);else if(v instanceof Date||isDate$1(v))u=serializeDate(e,m,v,u);else if(void 0===v)!1===s&&(u=serializeNull(e,m,v,u));else if(null===v)u=serializeNull(e,m,v,u);else if("ObjectId"===v._bsontype||"ObjectID"===v._bsontype)u=serializeObjectId(e,m,v,u);else if(Buffer$5.isBuffer(v))u=serializeBuffer(e,m,v,u);else if(v instanceof RegExp||isRegExp$1(v))u=serializeRegExp(e,m,v,u);else if("object"===E&&null==v._bsontype)u=serializeObject(e,m,v,u,r,i,o,s,!1,a);else if("object"===E&&"Decimal128"===v._bsontype)u=serializeDecimal128(e,m,v,u);else if("Long"===v._bsontype||"Timestamp"===v._bsontype)u=serializeLong(e,m,v,u);else if("Double"===v._bsontype)u=serializeDouble(e,m,v,u);else if("Code"===v._bsontype)u=serializeCode(e,m,v,u,r,i,o,s);else if("function"==typeof v&&o)u=serializeFunction(e,m,v,u,r,i,o);else if("Binary"===v._bsontype)u=serializeBinary(e,m,v,u);else if("Symbol"===v._bsontype)u=serializeSymbol(e,m,v,u);else if("DBRef"===v._bsontype)u=serializeDBRef(e,m,v,u,i,o);else if("BSONRegExp"===v._bsontype)u=serializeBSONRegExp(e,m,v,u);else if("Int32"===v._bsontype)u=serializeInt32(e,m,v,u);else if("MinKey"===v._bsontype||"MaxKey"===v._bsontype)u=serializeMinMax(e,m,v,u);else if(void 0!==v._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+v._bsontype)}}a.pop(),e[u++]=0;var w=u-n;return e[n++]=255&w,e[n++]=w>>8&255,e[n++]=w>>16&255,e[n++]=w>>24&255,u}var serializer=serializeInto;function _typeof$4(e){return(_typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Buffer$6=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,normalizedFunctionString$2=utils.normalizedFunctionString;function isDate$2(e){return"object"===_typeof$4(e)&&"[object Date]"===Object.prototype.toString.call(e)}function calculateObjectSize(e,t,r){var n=5;if(Array.isArray(e))for(var i=0;i<e.length;i++)n+=calculateElement(i.toString(),e[i],t,!0,r);else for(var o in e.toBSON&&(e=e.toBSON()),e)n+=calculateElement(o,e[o],t,!1,r);return n}function calculateElement(e,t,r,n,i){switch(t&&t.toBSON&&(t=t.toBSON()),_typeof$4(t)){case"string":return 1+Buffer$6.byteLength(e,"utf8")+1+4+Buffer$6.byteLength(t,"utf8")+1;case"number":return Math.floor(t)===t&&t>=constants.JS_INT_MIN&&t<=constants.JS_INT_MAX&&t>=constants.BSON_INT32_MIN&&t<=constants.BSON_INT32_MAX?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+5:(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+9;case"undefined":return n||!i?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1:0;case"boolean":return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+2;case"object":if(null==t||"MinKey"===t._bsontype||"MaxKey"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1;if("ObjectId"===t._bsontype||"ObjectID"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+13;if(t instanceof Date||isDate$2(t))return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+9;if(void 0!==Buffer$6&&Buffer$6.isBuffer(t))return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+6+t.length;if("Long"===t._bsontype||"Double"===t._bsontype||"Timestamp"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+9;if("Decimal128"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+17;if("Code"===t._bsontype)return null!=t.scope&&Object.keys(t.scope).length>0?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+4+Buffer$6.byteLength(t.code.toString(),"utf8")+1+calculateObjectSize(t.scope,r,i):(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+Buffer$6.byteLength(t.code.toString(),"utf8")+1;if("Binary"===t._bsontype)return t.sub_type===binary.SUBTYPE_BYTE_ARRAY?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+(t.position+1+4+1+4):(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+(t.position+1+4+1);if("Symbol"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+Buffer$6.byteLength(t.value,"utf8")+4+1+1;if("DBRef"===t._bsontype){var o=Object.assign({$ref:t.collection,$id:t.oid},t.fields);return null!=t.db&&(o.$db=t.db),(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+calculateObjectSize(o,r,i)}return t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+Buffer$6.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1:"BSONRegExp"===t._bsontype?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+Buffer$6.byteLength(t.pattern,"utf8")+1+Buffer$6.byteLength(t.options,"utf8")+1:(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+calculateObjectSize(t,r,i)+1;case"function":if(t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)||"[object RegExp]"===String.call(t))return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+Buffer$6.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1;if(r&&null!=t.scope&&Object.keys(t.scope).length>0)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+4+Buffer$6.byteLength(normalizedFunctionString$2(t),"utf8")+1+calculateObjectSize(t.scope,r,i);if(r)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+Buffer$6.byteLength(normalizedFunctionString$2(t),"utf8")+1}return 0}var calculate_size=calculateObjectSize,Buffer$7=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,ensure_buffer=function(e){if(e instanceof Buffer$7)return e;if(e instanceof Uint8Array)return Buffer$7.from(e.buffer);throw new TypeError("Must use either Buffer or Uint8Array")},Buffer$8=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,MAXSIZE=17825792,buffer$1=Buffer$8.alloc(MAXSIZE);function setInternalBufferSize(e){buffer$1.length<e&&(buffer$1=Buffer$8.alloc(e))}function serialize$1(e,t){var r="boolean"==typeof(t=t||{}).checkKeys&&t.checkKeys,n="boolean"==typeof t.serializeFunctions&&t.serializeFunctions,i="boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined,o="number"==typeof t.minInternalBufferSize?t.minInternalBufferSize:MAXSIZE;buffer$1.length<o&&(buffer$1=Buffer$8.alloc(o));var s=serializer(buffer$1,e,r,0,0,n,i,[]),a=Buffer$8.alloc(s);return buffer$1.copy(a,0,0,a.length),a}function serializeWithBufferAndIndex(e,t,r){var n="boolean"==typeof(r=r||{}).checkKeys&&r.checkKeys,i="boolean"==typeof r.serializeFunctions&&r.serializeFunctions,o="boolean"!=typeof r.ignoreUndefined||r.ignoreUndefined,s="number"==typeof r.index?r.index:0,a=serializer(buffer$1,e,n,0,0,i,o);return buffer$1.copy(t,s,0,a),s+a-1}function deserialize$2(e,t){return e=ensure_buffer(e),deserializer(e,t)}function calculateObjectSize$1(e,t){var r="boolean"==typeof(t=t||{}).serializeFunctions&&t.serializeFunctions,n="boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined;return calculate_size(e,r,n)}function deserializeStream(e,t,r,n,i,o){o=Object.assign({allowObjectSmallerThanBufferSize:!0},o),e=ensure_buffer(e);for(var s=t,a=0;a<r;a++){var u=e[s]|e[s+1]<<8|e[s+2]<<16|e[s+3]<<24;o.index=s,n[i+a]=deserializer(e,o),s+=u}return s}var bson={BSON_INT32_MAX:constants.BSON_INT32_MAX,BSON_INT32_MIN:constants.BSON_INT32_MIN,BSON_INT64_MAX:constants.BSON_INT64_MAX,BSON_INT64_MIN:constants.BSON_INT64_MIN,JS_INT_MAX:constants.JS_INT_MAX,JS_INT_MIN:constants.JS_INT_MIN,BSON_DATA_NUMBER:constants.BSON_DATA_NUMBER,BSON_DATA_STRING:constants.BSON_DATA_STRING,BSON_DATA_OBJECT:constants.BSON_DATA_OBJECT,BSON_DATA_ARRAY:constants.BSON_DATA_ARRAY,BSON_DATA_BINARY:constants.BSON_DATA_BINARY,BSON_DATA_UNDEFINED:constants.BSON_DATA_UNDEFINED,BSON_DATA_OID:constants.BSON_DATA_OID,BSON_DATA_BOOLEAN:constants.BSON_DATA_BOOLEAN,BSON_DATA_DATE:constants.BSON_DATA_DATE,BSON_DATA_NULL:constants.BSON_DATA_NULL,BSON_DATA_REGEXP:constants.BSON_DATA_REGEXP,BSON_DATA_DBPOINTER:constants.BSON_DATA_DBPOINTER,BSON_DATA_CODE:constants.BSON_DATA_CODE,BSON_DATA_SYMBOL:constants.BSON_DATA_SYMBOL,BSON_DATA_CODE_W_SCOPE:constants.BSON_DATA_CODE_W_SCOPE,BSON_DATA_INT:constants.BSON_DATA_INT,BSON_DATA_TIMESTAMP:constants.BSON_DATA_TIMESTAMP,BSON_DATA_LONG:constants.BSON_DATA_LONG,BSON_DATA_DECIMAL128:constants.BSON_DATA_DECIMAL128,BSON_DATA_MIN_KEY:constants.BSON_DATA_MIN_KEY,BSON_DATA_MAX_KEY:constants.BSON_DATA_MAX_KEY,BSON_BINARY_SUBTYPE_DEFAULT:constants.BSON_BINARY_SUBTYPE_DEFAULT,BSON_BINARY_SUBTYPE_FUNCTION:constants.BSON_BINARY_SUBTYPE_FUNCTION,BSON_BINARY_SUBTYPE_BYTE_ARRAY:constants.BSON_BINARY_SUBTYPE_BYTE_ARRAY,BSON_BINARY_SUBTYPE_UUID:constants.BSON_BINARY_SUBTYPE_UUID,BSON_BINARY_SUBTYPE_MD5:constants.BSON_BINARY_SUBTYPE_MD5,BSON_BINARY_SUBTYPE_USER_DEFINED:constants.BSON_BINARY_SUBTYPE_USER_DEFINED,Code:code,Map:map,BSONSymbol:symbol,DBRef:db_ref,Binary:binary,ObjectId:objectid,Long:long_1,Timestamp:timestamp,Double:double_1,Int32:int_32,MinKey:min_key,MaxKey:max_key,BSONRegExp:regexp,Decimal128:decimal128,serialize:serialize$1,serializeWithBufferAndIndex:serializeWithBufferAndIndex,deserialize:deserialize$2,calculateObjectSize:calculateObjectSize$1,deserializeStream:deserializeStream,setInternalBufferSize:setInternalBufferSize,ObjectID:objectid,EJSON:extended_json},bson_1=bson.BSON_INT32_MAX,bson_2=bson.BSON_INT32_MIN,bson_3=bson.BSON_INT64_MAX,bson_4=bson.BSON_INT64_MIN,bson_5=bson.JS_INT_MAX,bson_6=bson.JS_INT_MIN,bson_7=bson.BSON_DATA_NUMBER,bson_8=bson.BSON_DATA_STRING,bson_9=bson.BSON_DATA_OBJECT,bson_10=bson.BSON_DATA_ARRAY,bson_11=bson.BSON_DATA_BINARY,bson_12=bson.BSON_DATA_UNDEFINED,bson_13=bson.BSON_DATA_OID,bson_14=bson.BSON_DATA_BOOLEAN,bson_15=bson.BSON_DATA_DATE,bson_16=bson.BSON_DATA_NULL,bson_17=bson.BSON_DATA_REGEXP,bson_18=bson.BSON_DATA_DBPOINTER,bson_19=bson.BSON_DATA_CODE,bson_20=bson.BSON_DATA_SYMBOL,bson_21=bson.BSON_DATA_CODE_W_SCOPE,bson_22=bson.BSON_DATA_INT,bson_23=bson.BSON_DATA_TIMESTAMP,bson_24=bson.BSON_DATA_LONG,bson_25=bson.BSON_DATA_DECIMAL128,bson_26=bson.BSON_DATA_MIN_KEY,bson_27=bson.BSON_DATA_MAX_KEY,bson_28=bson.BSON_BINARY_SUBTYPE_DEFAULT,bson_29=bson.BSON_BINARY_SUBTYPE_FUNCTION,bson_30=bson.BSON_BINARY_SUBTYPE_BYTE_ARRAY,bson_31=bson.BSON_BINARY_SUBTYPE_UUID,bson_32=bson.BSON_BINARY_SUBTYPE_MD5,bson_33=bson.BSON_BINARY_SUBTYPE_USER_DEFINED,bson_34=bson.Code,bson_35=bson.BSONSymbol,bson_36=bson.DBRef,bson_37=bson.Binary,bson_38=bson.ObjectId,bson_39=bson.Long,bson_40=bson.Timestamp,bson_41=bson.Double,bson_42=bson.Int32,bson_43=bson.MinKey,bson_44=bson.MaxKey,bson_45=bson.BSONRegExp,bson_46=bson.Decimal128,bson_47=bson.serialize,bson_48=bson.serializeWithBufferAndIndex,bson_49=bson.deserialize,bson_50=bson.calculateObjectSize,bson_51=bson.deserializeStream,bson_52=bson.setInternalBufferSize,bson_53=bson.ObjectID,bson_54=bson.EJSON;__webpack_exports__.default=bson}.call(this,__webpack_require__(30),__webpack_require__(3).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(16),i=r(17),o=r(15),s=r(2);t.Command={eq:e=>new n.QueryCommand(n.QUERY_COMMANDS_LITERAL.EQ,[e]),neq:e=>new n.QueryCommand(n.QUERY_COMMANDS_LITERAL.NEQ,[e]),lt:e=>new n.QueryCommand(n.QUERY_COMMANDS_LITERAL.LT,[e]),lte:e=>new n.QueryCommand(n.QUERY_COMMANDS_LITERAL.LTE,[e]),gt:e=>new n.QueryCommand(n.QUERY_COMMANDS_LITERAL.GT,[e]),gte:e=>new n.QueryCommand(n.QUERY_COMMANDS_LITERAL.GTE,[e]),in:e=>new n.QueryCommand(n.QUERY_COMMANDS_LITERAL.IN,e),nin:e=>new n.QueryCommand(n.QUERY_COMMANDS_LITERAL.NIN,e),geoNear:e=>new n.QueryCommand(n.QUERY_COMMANDS_LITERAL.GEO_NEAR,[e]),geoWithin:e=>new n.QueryCommand(n.QUERY_COMMANDS_LITERAL.GEO_WITHIN,[e]),geoIntersects:e=>new n.QueryCommand(n.QUERY_COMMANDS_LITERAL.GEO_INTERSECTS,[e]),and(...e){const t=s.isArray(arguments[0])?arguments[0]:Array.from(arguments);return new i.LogicCommand(i.LOGIC_COMMANDS_LITERAL.AND,t)},or(...e){const t=s.isArray(arguments[0])?arguments[0]:Array.from(arguments);return new i.LogicCommand(i.LOGIC_COMMANDS_LITERAL.OR,t)},set:e=>new o.UpdateCommand(o.UPDATE_COMMANDS_LITERAL.SET,[e]),remove:()=>new o.UpdateCommand(o.UPDATE_COMMANDS_LITERAL.REMOVE,[]),inc:e=>new o.UpdateCommand(o.UPDATE_COMMANDS_LITERAL.INC,[e]),mul:e=>new o.UpdateCommand(o.UPDATE_COMMANDS_LITERAL.MUL,[e]),push(...e){const t=s.isArray(arguments[0])?arguments[0]:Array.from(arguments);return new o.UpdateCommand(o.UPDATE_COMMANDS_LITERAL.PUSH,t)},pop:()=>new o.UpdateCommand(o.UPDATE_COMMANDS_LITERAL.POP,[]),shift:()=>new o.UpdateCommand(o.UPDATE_COMMANDS_LITERAL.SHIFT,[]),unshift(...e){const t=s.isArray(arguments[0])?arguments[0]:Array.from(arguments);return new o.UpdateCommand(o.UPDATE_COMMANDS_LITERAL.UNSHIFT,t)},aggregate:{}};["abs","add","ceil","divide","exp","floor","ln","log","log10","mod","multiply","pow","sqrt","subtract","trunc","arrayElemAt","arrayToObject","concatArrays","filter","in","indexOfArray","isArray","map","objectToArray","range","reduce","reverseArray","size","slice","zip","and","not","or","cmp","eq","gt","gte","lt","lte","ne","cond","ifNull","switch","dayOfWeek","dateFromParts","dateFromString","dayOfMonth","dayOfWeek","dayOfYear","isoDayOfWeek","isoWeek","isoWeekYear","millisecond","minute","month","second","hour","week","year","literal","mergeObjects","objectToArray","allElementsTrue","anyElementTrue","setDifference","setEquals","setIntersection","setIsSubset","setUnion","concat","dateToString","indexOfBytes","indexOfCP","split","strLenBytes","strLenCP","strcasecmp","substr","substrBytes","substrCP","toLower","toUpper","meta","addToSet","avg","first","last","max","min","push","stdDevPop","stdDevSamp","sum","let"].forEach(e=>{let r=e;"ne"===e&&(r="neq"),t.Command.aggregate[r]=function(t){return{[`$${e}`]:t}}}),t.default=t.Command},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class i{constructor({regexp:e,options:t}){if(!e)throw new TypeError("regexp must be a string");this.$regex=e,this.$options=t}parse(){return{$regex:this.$regex,$options:this.$options}}get _internalType(){return n.SYMBOL_REGEXP}}t.RegExp=i,t.RegExpConstructor=function(e){return new i(e)}},function(e,t,r){(function(t){let n;try{n=r(173)}catch(e){n={secretId:t.env.TEST_SECRET_ID,secretKey:t.env.TEST_SECRET_KEY,env:t.env.TEST_ENV,appId:t.env.TEST_APP_ID}}e.exports=n}).call(this,r(11))},function(e,t,r){(function(t){t.env.tcb_token="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjoiSEZEbExYeEU4Q1g1ZzQ5YWxWQUI1aWZKYUNDTGZLbVZDL1g1dkhqYlFzdTJjQ1JWY29TQkJSZExzOGlWOWR2SFJycVpicFVHZnZzenNMdlZxWjZNWDFPNUU2RHJHQT09IiwiaWF0IjoxNTUyMzgyMjExLCJleHAiOjE1NTIzODk0MTF9.Np6XVWKYiG0XrHqUF467QYAKAxof0WEZRmzegBcAhTg",e.exports={appid:"wxacfb81f2ced64e70",env:"tcbenv-mPIgjhnq",traceUser:!1,timeout:1e4}}).call(this,r(11))}])});